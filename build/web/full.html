<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="chrome=1">
	<meta name="description" content="Onslaught! is an HTML5 game made by Lost Decade Games. Fight off the horde with medieval weapons and powerups!">
	<meta name="keywords" content="onslaught, html5, indie, browser-based, lost decade games, javascript, chiptunes, arcade, retro, oldschool, geoff blair, matt hackett, joshua morse">
	<link rel="icon" href="img/favicon.ico" type="image/x-icon">
	<link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
	<link rel="stylesheet" href="css/horde.css?v=1.0.53">
	<title>Onslaught! Arena &bull; an HTML5 medieval fantasy shoot-em-up</title>
</head>
<body>

	<div class="hidden">
		<h1>Onslaught! by Lost Decade Games</h1>
		<p>
			<strong>Onslaught!</strong>
			is an HTML5 game made by <a href="http://www.lostdecadegames.com/">Lost Decade Games</a>.
		</p>
	</div>

	<div class="nav">
		<ul>
			<li><a href="http://blog.lostdecadegames.com" target="_blank">Blog</a></li>
			<li><a href="http://forums.lostdecadegames.com/viewforum.php?id=4" target="_blank">Support</a></li>
			<li><a href="http://twitter.com/lostdecadegames" target="_blank">Twitter</a></li>
			<li><a href="http://www.facebook.com/pages/Lost-Decade-Games/139862159378069" target="_blank">Facebook</a></li>
		</ul>
	</div>

	<div id="stage">
		<div id="tip"></div>
	</div>

	<script>
		window.onslaughtScores = '{{ scores }}';
		window.ldgHash = "{{ user_hash }}";
	</script>

	<script src="lib/sm2/soundmanager2.js"></script>
	<script>
	(function () {
		var i=true,j=null,n=false;function q(){return function(){}}
(function(){var a={};a.Yg='<div class="fallback"><p>Your browser does not appear to support <a href="http://en.wikipedia.org/wiki/HTML5">HTML5</a>.</p><p>Please try one of the following, more standards compliant browsers: <a href="http://www.google.com/chrome">Chrome</a>, <a href="http://www.apple.com/safari/">Safari</a>, <a href="http://www.mozilla.com/firefox/">Firefox</a> or <a href="http://www.opera.com/">Opera</a>.</p></div>';a.setInterval=function(g,d,b){return window.setInterval(function(){d.call(b)},
g)};a.setTimeout=function(g,d,b){return window.setTimeout(function(){d.call(b)},g)};a.gb=function(g,d,b,e){b.addEventListener(g,function(f){d.call(e,f)},n)};a.cf=function(g){g.cancelBubble=i;g.stopPropagation();g.preventDefault()};a.now=function(){return Date.now()};a.dg=function(g,d,b,e){var f=document.createElement("canvas");f.id=g;f.width=Number(d)||0;f.height=Number(b)||0;if(e!==i){f.innerHTML=a.Yg;document.getElementById("stage").appendChild(f)}return f};a.Oh=function(g){for(var d={x:g.offsetLeft,
y:g.offsetTop};;){g=g.parentNode;if(g===document.body)break;d.x+=g.offsetLeft;d.y+=g.offsetTop}return d};a.p=function(g,d){return Math.round(Math.random()*(d-g))+g};a.sf=function(g,d,b){return Math.min(Math.max(g,d),b)};a.Wb=function(){var g=new a.m(a.p(-10,10),a.p(-10,10));g.normalize();return g};a.sa=function(g,d){var b=new a.b;b.type=g;for(var e in g)b[e]=g[e];d!==i&&b.Ec();return b};a.ca={Fb:0,nf:1,Ob:2,kf:3,Na:4,jf:5,ta:6,mf:7,qd:function(g){if(g<0)g+=8;if(g>7)g-=8;switch(g){case a.ca.Fb:return new a.m(0,
-1);case a.ca.nf:return new a.m(1,-1);case a.ca.Ob:return new a.m(1,0);case a.ca.kf:return new a.m(1,1);case a.ca.Na:return new a.m(0,1);case a.ca.jf:return new a.m(-1,1);case a.ca.ta:return new a.m(-1,0);case a.ca.mf:return new a.m(-1,-1)}},Gh:function(g){if(g.x>-0.25&&g.x<0.25&&g.y<0)return a.ca.Fb;if(g.x>-0.25&&g.x<0.25&&g.y>0)return a.ca.Na;if(g.x>0&&g.y>-0.25&&g.y<0.25)return a.ca.Ob;if(g.x<0&&g.y>-0.25&&g.y<0.25)return a.ca.ta;if(g.x>0&&g.y<0)return a.ca.nf;if(g.x>0&&g.y>0)return a.ca.kf;if(g.x<
0&&g.y>0)return a.ca.jf;if(g.x<0&&g.y<0)return a.ca.mf}};a.x=function(g,d){for(var b=0,e="",f=0;f<d.length;++f)b+=d.charCodeAt(f);for(f=0;f<g.length;++f)e+=String.fromCharCode(b^g.charCodeAt(f));return e};(function(){a.K=function(){this.J=this.Jd=0};var g=a.K,d=g.prototype;g.now=function(){return Date.now()};d.start=function(b){if(b)this.J=Number(b);this.Jd=0};d.update=function(b){this.Jd+=b};d.reset=function(){this.start()};d.hj=function(){return this.Jd};d.q=function(){if(this.J>0)return this.Jd>
this.J;return n}})();(function(){a.i={};a.i.Ea={Eb:0,Db:1};var g=a.i.Ea.Eb,d=n,b={},e=soundManager;a.i.Ec=function(f){switch(g){case a.i.Ea.Eb:e.url="lib/sm2/";e.useFastPolling=i;e.useHighPerformance=i;e.autoLoad=i;e.multiShot=i;e.volume=100;e.onload=f;e.useHTML5Audio=n;e.onerror=function(k){return function(){g=a.i.Ea.Db;k(f)}}(arguments.callee);break;case a.i.Ea.Db:var h=document.createElement("audio");if(h.canPlayType)h.canPlayType("audio/mpeg;")||(g=j);f()}};a.i.create=function(f,h,k,m){k=Boolean(k);
h+=".mp3";if(m===undefined)m=100;switch(g){case a.i.Ea.Eb:f={id:f,url:h,volume:m};if(k)f.lj=function(){this.play()};e.createSound(f).load();break;case a.i.Ea.Db:var l=new Audio;l.oj="auto";l.src=h;k?l.addEventListener("ended",function(){this.currentTime=0;this.play()},n):l.addEventListener("ended",function(){this.pause();this.currentTime=0},n);l.load();l.volume=m/100;b[f]=l}};a.i.Oe=function(f){switch(g){case a.i.Ea.Eb:if(f=e.getSoundById(f))return f.playState===1;return n;case a.i.Ea.Db:return b[f].currentTime>
0}};a.i.play=function(f){if(d)return n;switch(g){case a.i.Ea.Eb:e.play(f);break;case a.i.Ea.Db:try{b[f].pause();b[f].currentTime=0;b[f].play()}catch(h){}}};a.i.stop=function(f){switch(g){case a.i.Ea.Eb:e.stop(f);break;case a.i.Ea.Db:b[f].pause();b[f].currentTime=0}};a.i.stopAll=function(){switch(g){case a.i.Ea.Eb:e.stopAll();break;case a.i.Ea.Db:try{for(var f in b){b[f].pause();b[f].currentTime=0}}catch(h){console.log("[ERROR horde.sound.stopAll]",h)}}};a.i.pauseAll=function(){switch(g){case a.i.Ea.Eb:e.pauseAll();
break;case a.i.Ea.Db:for(var f in b)b[f].currentTime>0&&b[f].pause()}};a.i.resumeAll=function(){switch(g){case a.i.Ea.Eb:e.resumeAll();break;case a.i.Ea.Db:for(var f in b)b[f].currentTime>0&&b[f].play()}};a.i.Bg=function(){a.i.qg(!a.i.Ne())};a.i.Ne=function(){return d};a.i.qg=function(f){if(d!==f)(d=f)?a.i.pauseAll():a.i.resumeAll()}})();(function(){a.qa=function(g,d){this.width=Number(g)||0;this.height=Number(d)||0}})();(function(){a.m=function(b,e){this.x=Number(b)||0;this.y=Number(e)||0};var g=
a.m,d=g.prototype;g.Md=function(b){return new a.m(b.width,b.height)};g.Pa=function(b,e){e=Number(e)||1;return new a.m(Math.sin(b)*e,-Math.cos(b)*e)};d.A=function(){return new a.m(this.x,this.y)};d.scale=function(b){this.x*=b;this.y*=b;return this};d.add=function(b){this.x+=b.x;this.y+=b.y;return this};d.Ma=function(b){this.x-=b.x;this.y-=b.y;return this};d.$i=function(){this.y=this.x=0;return this};d.ji=function(){this.x*=-1;this.y*=-1;return this};d.cg=function(){return Math.sqrt(this.x*this.x+this.y*
this.y)};d.normalize=function(){var b=this.cg();return b===0?this:this.scale(1/b)};d.toString=function(){return this.x+", "+this.y};d.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};d.abs=function(){this.x=Math.abs(this.x);this.y=Math.abs(this.y);return this};d.Za=function(){return this.Dc()*(180/Math.PI)};d.Dc=function(){return Math.atan2(this.x,-this.y)}})();(function(){a.yd=function(b,e,f,h){this.left=Number(b)||0;this.top=Number(e)||0;this.width=Number(f)||0;
this.height=Number(h)||0};var g=a.yd,d=g.prototype;g.Le=function(b,e){return b.left<=e.left+e.width&&e.left<=b.left+b.width&&b.top<=e.top+e.height&&e.top<=b.top+b.height};d.rf=function(){return(new a.m(this.left,this.top)).add((new a.m(this.width,this.height)).scale(0.5))};d.Le=function(b){return g.Le(this,b)};d.reduce=function(b){this.left+=b;this.top+=b;this.width-=b*2;this.height-=b*2;return this}})();(function(){a.nb=function(){this.history=[];this.ka={};this.Re={};a.gb("keydown",this.Xh,window,
this);a.gb("keyup",this.Yh,window,this)};var g=a.nb,d=g.prototype,b={Hg:27,ac:13,Ha:32,ta:37,Fb:38,Ob:39,Na:40,Pc:65,Qc:66,lb:68,E:69,Ig:70,Jg:71,Kg:75,Tc:76,se:77,Mg:79,lf:80,Ng:81,Og:82,qc:83,Pg:84,Qg:85,Vc:87,Rg:88,Sg:90};g.Lg=b;g.li=[b.Fb,b.Fb,b.Na,b.Na,b.ta,b.Ob,b.ta,b.Ob,b.Qc,b.Pc];g.Zg=[b.Tc,b.lb,b.lb,b.E,b.Qc,b.Qg,b.Jg];g.Bi=[b.Tc,b.lb,b.Og,b.E,b.qc,b.E,b.Pg];g.Qh=[b.Tc,b.lb,b.lb,b.Ng,b.lb];g.Ug=[b.Tc,b.lb,b.Kg,b.Ig,b.Pc];g.Vg=[b.Pc,b.Vc,b.E,b.qc,b.se];g.Wg=[b.Tc,b.lb,b.Qc,b.Mg,b.se,b.Qc];
d.yg=function(e){switch(e.keyCode){case b.ac:case b.ta:case b.Fb:case b.Ob:case b.Na:case b.Qc:case b.Pc:case b.se:case b.Sg:case b.Rg:case b.lf:case b.Ha:case b.Vc:case b.qc:case b.lb:case 191:a.cf(e)}};d.Xh=function(e){this.history.push(e.keyCode);this.ka[e.keyCode]=i;this.yg(e)};d.Yh=function(e){this.ka[e.keyCode]=n;this.yg(e)};d.vb=function(e){return this.ka[e]===i};d.Qa=function(e){return this.vb(e)&&this.Re[e]!==i};d.Wd=function(e){for(e in this.ka)if(this.vb(e)&&this.Re[e]!==i)return i;return n};
d.vc=function(e){this.ka[e]=n};d.Zc=function(){this.ka={}};d.uc=function(){this.history=[]};d.gc=function(e){var f=e.length,h=this.history.slice(-f);if(h.length!==f)return n;for(var k=0;k<f;k++)if(e[k]!==h[k])return n;return i};d.df=function(){for(var e in this.ka)this.Re[e]=this.ka[e]}})();(function(){a.te=function(b){this.Gb={};this.Ve=this.Ue=0;this.canvas=b;this.ag={};a.gb("mousemove",this.$h,window,this);a.gb("mousedown",this.Zh,window,this);a.gb("mouseup",this.ai,window,this)};var g=a.te,d=
g.prototype;g.Gg={ta:0,Ob:2};d.$h=function(b){var e=a.Oh(this.canvas);this.Ue=(b.clientX-e.x)*640/this.canvas.offsetWidth;this.Ve=(b.clientY-e.y)*480/this.canvas.offsetHeight;this.$a=i};d.Zh=function(b){this.Gb[b.button]=i;a.cf(b);window.focus&&window.focus()};d.ai=function(b){this.Gb[b.button]=n};d.bb=function(b){return this.Gb[b]};d.Vd=function(){for(var b in this.Gb)if(this.Gb[b])return i;return n};d.sb=function(){this.Gb={}};d.Zi=function(b){return this.Gb[b]&&!this.ag[b]};d.Li=function(){for(var b in this.Gb)this.ag[b]=
this.Gb[b]}})();a.kj=function(){return n};a.yi=function(g){var d=new a.v;d.e(0,1E3);d.e(1,1E3);d.e(2,1E3);d.c(0,a.a.Ua,1);d.c(1,a.a.Ua,1);d.c(2,a.a.Ua,1);g.t.push(d);d=new a.v;d.e(0,1E3);d.e(1,1E3);d.e(2,1E3);d.c(0,a.a.Ia,2);d.c(1,a.a.Ia,2);d.c(2,a.a.Ia,2);g.t.push(d);d=new a.v;d.e(1,1E3);d.c(1,a.a.ia,1);g.t.push(d);d=new a.v;d.e(0,1E3);d.e(1,1E3);d.e(2,1E3);d.c(0,a.a.ya,2);d.c(1,a.a.ya,3);d.c(2,a.a.ya,2);g.t.push(d);d=new a.v;d.e(0,500);d.e(1,750);d.e(2,500);d.c(0,a.a.Ua,5);d.c(0,a.a.Ia,2);d.c(1,
a.a.Ia,2);d.c(1,a.a.ia,1);d.c(1,a.a.Ia,3);d.c(2,a.a.Ua,5);d.c(2,a.a.Ia,2);g.t.push(d);d=new a.v;d.e(0,200);d.e(1,200);d.e(2,200);d.c(0,a.a.Ua,10);d.c(1,a.a.Ua,10);d.c(2,a.a.Ua,10);g.t.push(d);d=new a.v;d.e(0,1E3);d.e(1,1E3);d.e(2,1E3);d.c(0,a.a.ya,3);d.c(1,a.a.ia,1);d.c(1,a.a.Ia,5);d.c(2,a.a.ya,3);g.t.push(d);d=new a.v;d.e(0,5E3);d.e(1,1500);d.e(2,5E3);d.c(0,a.a.Jb,5);d.c(1,a.a.Jb,10);d.c(2,a.a.Jb,5);g.t.push(d);d=new a.v;d.e(0,750);d.e(1,750);d.e(2,750);d.c(0,a.a.ia,1);d.c(2,a.a.ia,1);d.c(0,a.a.Ua,
10);d.c(1,a.a.Ua,10);d.c(2,a.a.Ua,10);g.t.push(d);d=new a.v;d.e(1,1E3);d.c(1,a.a.uf,1);d.tc=i;d.Xc="Gelatinous Cube";g.t.push(d);d=new a.v;d.e(0,2E4);d.e(1,2E4);d.e(2,2E4);d.c(0,a.a.wa,2);d.c(1,a.a.wa,2);d.c(2,a.a.wa,2);g.t.push(d);d=new a.v;d.e(0,1E4);d.e(1,1E4);d.e(2,1E4);d.c(0,a.a.pa,2);d.c(1,a.a.pa,2);d.c(2,a.a.pa,2);g.t.push(d);d=new a.v;d.e(0,7500);d.e(1,7500);d.e(2,7500);d.c(0,a.a.Oa,2);d.c(1,a.a.Oa,2);d.c(2,a.a.Oa,2);g.t.push(d);d=new a.v;d.e(0,15E3);d.e(1,1500);d.e(2,15E3);d.c(0,a.a.Ca,1);
d.c(2,a.a.Ca,1);g.t.push(d);d=new a.v;d.e(0,1E3);d.e(1,1E3);d.e(2,1E3);d.c(0,a.a.ub,1);d.c(1,a.a.ub,1);d.c(2,a.a.ub,1);g.t.push(d);d=new a.v;d.e(0,500);d.e(1,4E3);d.e(2,500);d.c(0,a.a.tb,5);d.c(0,a.a.Sb,2);d.c(0,a.a.tb,5);d.c(0,a.a.Sb,2);d.c(1,a.a.wa,2);d.c(2,a.a.tb,5);d.c(2,a.a.Sb,2);d.c(2,a.a.tb,5);d.c(2,a.a.Sb,2);g.t.push(d);d=new a.v;d.e(0,3E3);d.e(1,1500);d.e(2,3E3);d.c(0,a.a.Oa,2);d.c(1,a.a.Jb,5);d.c(1,a.a.pa,3);d.c(2,a.a.Oa,2);g.t.push(d);d=new a.v;d.e(0,1500);d.e(1,1500);d.e(2,1500);d.c(0,
a.a.ia,1);d.c(0,a.a.Ia,5);d.c(1,a.a.ya,3);d.c(1,a.a.Ca,1);d.c(1,a.a.ya,5);d.c(2,a.a.Ia,5);d.c(2,a.a.ia,1);g.t.push(d);d=new a.v;d.e(0,3500);d.e(1,4E3);d.e(2,5E3);d.c(0,a.a.pa,5);d.c(1,a.a.Jb,5);d.c(1,a.a.Ca,1);d.c(2,a.a.wa,3);g.t.push(d);d=new a.v;d.e(1,1E3);d.c(1,a.a.xg,1);d.tc=i;d.Xc="Minotaur";g.t.push(d);d=new a.v;d.e(0,100);d.e(1,100);d.e(2,100);d.c(0,a.a.Ua,15);d.c(1,a.a.tb,15);d.c(2,a.a.Ua,15);g.t.push(d);d=new a.v;d.e(0,1500);d.e(1,1500);d.e(2,1500);d.c(0,a.a.Ia,15);d.c(1,a.a.Sb,15);d.c(2,
a.a.Ia,15);g.t.push(d);d=new a.v;d.e(0,2E3);d.e(1,2E3);d.e(2,2E3);d.c(0,a.a.ya,12);d.c(1,a.a.ya,12);d.c(2,a.a.ya,12);g.t.push(d);d=new a.v;d.e(0,25E3);d.e(1,25E3);d.e(2,25E3);d.c(0,a.a.ia,2);d.c(1,a.a.ia,2);d.c(2,a.a.ia,2);g.t.push(d);d=new a.v;d.e(0,3E3);d.e(1,3E3);d.e(2,3E3);d.c(0,a.a.Jb,10);d.c(1,a.a.Jb,10);d.c(2,a.a.Jb,10);g.t.push(d);d=new a.v;d.e(0,25E3);d.e(1,25E3);d.e(2,25E3);d.c(0,a.a.Ca,2);d.c(1,a.a.Ca,2);d.c(2,a.a.Ca,2);g.t.push(d);d=new a.v;d.e(0,12E3);d.e(1,12E3);d.e(2,12E3);d.c(0,a.a.pa,
4);d.c(1,a.a.pa,4);d.c(2,a.a.pa,4);g.t.push(d);d=new a.v;d.e(0,15E3);d.e(1,2E4);d.e(2,15E3);d.c(0,a.a.Oa,5);d.c(1,a.a.ub,3);d.c(2,a.a.Oa,5);g.t.push(d);d=new a.v;d.e(0,15E3);d.e(1,15E3);d.e(2,15E3);d.c(0,a.a.wa,5);d.c(1,a.a.wa,5);d.c(2,a.a.wa,5);g.t.push(d);d=new a.v;d.e(1,1E3);d.c(1,a.a.wf,1);d.tc=i;d.Xc="Green Dragon";g.t.push(d);d=new a.v;d.e(0,3500);d.e(1,3500);d.e(2,3500);d.c(0,a.a.Ia,25);d.c(1,a.a.ya,25);d.c(2,a.a.Sb,25);g.t.push(d);d=new a.v;d.e(0,7500);d.e(1,5E3);d.e(2,7500);d.c(0,a.a.wa,
2);d.c(0,a.a.pa,3);d.c(1,a.a.Jb,10);d.c(2,a.a.wa,2);d.c(2,a.a.pa,3);g.t.push(d);d=new a.v;d.e(0,15E3);d.e(1,7500);d.e(2,15E3);d.c(0,a.a.Ca,3);d.c(1,a.a.Oa,6);d.c(2,a.a.Ca,3);g.t.push(d);d=new a.v;d.e(0,2500);d.e(1,15E3);d.e(2,2500);d.c(0,a.a.ya,10);d.c(0,a.a.Ia,10);d.c(1,a.a.ia,1);d.c(1,a.a.Ca,1);d.c(1,a.a.ia,1);d.c(1,a.a.Ca,1);d.c(2,a.a.ya,10);d.c(2,a.a.Ia,10);g.t.push(d);d=new a.v;d.e(0,12500);d.e(1,2E4);d.e(2,12500);d.c(0,a.a.wa,5);d.c(1,a.a.ub,1);d.c(1,a.a.Ca,1);d.c(1,a.a.ia,1);d.c(1,a.a.ub,1);
d.c(2,a.a.wa,5);g.t.push(d);d=new a.v;d.e(0,2E4);d.e(1,1E3);d.e(2,2E4);d.c(0,a.a.ia,1);d.c(0,a.a.Oa,1);d.c(1,a.a.pa,8);d.c(2,a.a.ia,1);d.c(2,a.a.Oa,1);g.t.push(d);d=new a.v;d.e(0,4E3);d.e(1,1E4);d.e(2,4E3);d.c(0,a.a.ya,8);d.c(1,a.a.Ca,2);d.c(2,a.a.ya,8);g.t.push(d);d=new a.v;d.e(0,5E3);d.e(1,7500);d.e(2,5E3);d.c(0,a.a.wa,1);d.c(0,a.a.pa,3);d.c(1,a.a.Oa,4);d.c(1,a.a.ub,1);d.c(2,a.a.wa,1);d.c(2,a.a.pa,3);g.t.push(d);d=new a.v;d.e(0,2E3);d.e(1,2500);d.e(2,2E3);d.c(0,a.a.Ia,30);d.c(1,a.a.ya,25);d.c(2,
a.a.Sb,30);g.t.push(d);d=new a.v;d.e(1,1E3);d.c(1,a.a.qf,1);d.tc=i;d.Xc="Beholder";g.t.push(d);d=new a.v;d.e(0,3E3);d.e(1,3E3);d.e(2,3E3);d.c(0,a.a.ia,2);d.c(1,a.a.Ca,2);d.c(2,a.a.ia,2);g.t.push(d);d=new a.v;d.e(0,1E3);d.e(1,1E3);d.e(2,1E3);d.c(0,a.a.pa,3);d.c(0,a.a.Oa,1);d.c(1,a.a.pa,3);d.c(1,a.a.ub,1);d.c(2,a.a.pa,3);d.c(2,a.a.Oa,1);g.t.push(d);d=new a.v;d.e(0,3E3);d.e(1,3E3);d.e(2,3E3);d.c(0,a.a.wa,3);d.c(0,a.a.Ca,1);d.c(1,a.a.wa,3);d.c(1,a.a.ub,1);d.c(2,a.a.wa,3);d.c(2,a.a.ia,1);g.t.push(d);d=
new a.v;d.e(0,200);d.e(1,200);d.e(2,200);d.c(0,a.a.tb,20);d.c(0,a.a.pa,2);d.c(0,a.a.ia,1);d.c(1,a.a.tb,20);d.c(1,a.a.wa,2);d.c(1,a.a.Ca,1);d.c(2,a.a.tb,20);d.c(2,a.a.pa,2);d.c(2,a.a.ia,1);g.t.push(d);d=new a.v;d.e(0,3E3);d.e(1,3E3);d.e(2,3E3);d.c(0,a.a.Ia,10);d.c(0,a.a.ia,1);d.c(0,a.a.pa,3);d.c(1,a.a.ya,10);d.c(1,a.a.ub,1);d.c(1,a.a.wa,3);d.c(2,a.a.Sb,10);d.c(2,a.a.Ca,1);d.c(2,a.a.Oa,3);g.t.push(d);d=new a.v;d.e(0,2500);d.e(1,1E3);d.e(2,2500);d.c(0,a.a.pa,4);d.c(1,a.a.uf,1);d.c(2,a.a.pa,4);g.t.push(d);
d=new a.v;d.e(0,1E3);d.e(1,1E3);d.e(2,1E3);d.c(0,a.a.ya,5);d.c(1,a.a.xg,1);d.c(1,a.a.ya,4);d.c(2,a.a.ya,5);g.t.push(d);d=new a.v;d.e(0,3E4);d.e(1,1E3);d.e(2,3E4);d.c(0,a.a.wa,1);d.c(0,a.a.Ca,1);d.c(1,a.a.wf,1);d.c(2,a.a.wa,1);d.c(2,a.a.Ca,1);g.t.push(d);d=new a.v;d.e(0,15E3);d.e(1,1E3);d.e(2,15E3);d.c(0,a.a.pa,1);d.c(0,a.a.ia,1);d.c(1,a.a.qf,1);d.c(2,a.a.pa,1);d.c(2,a.a.ia,1);g.t.push(d);d=new a.v;d.e(1,1E3);d.c(1,a.a.ah,1);d.tc=i;d.Xc="Doppelganger";g.t.push(d)};(function(){a.oc=function(){function b(){f.innerHTML=
"Tip: "+e[a.p(0,e.length-1)]}this.Se=0;this.Hb={};this.map=j;this.Ab=[];this.H={};this.jg=0;this.ng=j;this.z=new a.nb;this.view=new a.qa(640,480);this.images=j;this.Pe=this.Fd=n;this.Bc="";this.Rb="down";this.Fc=this.kd=this.xb=this.Q=this.ec=this.cd=0;this.jb={position:new a.m,Za:0,fg:n};this.cc=i;this.Fe=n;this.wc=j;this.Fg=10;this.hc=new a.K;this.Kb=0;this.kb=this.ja=n;this.oe=0;this.hf={type:j,O:"off",ba:1,scale:1,position:new a.m};var e=["The Beholder drops special loot, a powerful weapon!",
"Pick up meat to restore 10% of your health.","The Last Boss can be found on Wave 50.","Enemies deal more melee damage than their projectile weapons.","Hold down the left mouse button to auto fire.","Gelatinous Cube dislikes magic.","You earn 1,000 points for each wave you survive!","Certain enemy projectiles can't be destroyed. Learn to dodge!","Toggle fullscreen mode by clicking the screen icon in the lower right.","Toggle audio by clicking the trumpet icon in the lower right corner of the screen.",
"Taking damage lowers your score. Try not to get hit!","Your game is saved automatically after you defeat each boss.",'You can press the "M" key to toggle muting.','You can press the "F" key to toggle fullscreen mode.','Press "P" to pause the game.'],f=document.getElementById("tip");b();setInterval(b,15E3)};var g=a.oc,d=g.prototype;g.I={wd:0,rc:1,ud:2,Rc:3,Sc:4,Pb:5,qe:6,td:7};d.ej=function(){return"?cachebust=1.0.53"};d.Ye=function(){var b=window.innerWidth,e=document.getElementById("stage"),f=window.innerHeight-
e.offsetTop;e.style.height=f+"px";if(this.cc){height=f-50;if(height<480)height=480;if(height>768)height=768;e=Math.round(height*1.333)}else{e=640;height=480}var h=this.Hb.display;h.style.width=e+"px";h.style.height=height+"px";f=Math.max(f/2-height/2,30);h.style.left=Math.max(b/2-e/2,0)+"px";h.style.top=f+"px";e=document.getElementById("tip");e.style.top=f-30+"px";e.style.left="20px";e.style.width=b-40+"px"};d.Di=function(){this.Ec();this.Se=a.now();this.start()};d.start=function(){this.ii=a.setInterval(0,
this.update,this)};d.stop=function(){clearInterval(this.ii)};d.me=function(){var b=n;return function(){if(!this.N().V(a.b.n.eb))if(this.paused){this.paused=n;a.i.qg(b);a.i.play("unpause");a.i.play(this.Ib)}else{this.paused=i;this.Wf();b=a.i.Ne();a.i.play("pause");a.i.stop(this.Ib)}}}();d.xa=function(b){this.jg++;var e="o"+this.jg;b.id=e;this.H[e]=b;return e};d.Lf=function(b,e){var f=e/b*100;return f>50?"rgb(98, 187, 70)":f>25?"rgb(246, 139, 31)":"rgb(238, 28, 36)"};d.$=function(b,e,f){f=f||b.dc;e=
a.sa(e,i);for(var h=b;h.Wa!==j;)if(this.H[h.Wa])h=this.H[h.Wa];else break;e.Wa=h.id;e.F=b.F;e.xe(b.Yc().rf());e.M(f);e.Ec();return this.xa(e)};d.wi=function(b){return this.H[b]};d.N=function(){return this.H[this.ng]};d.Mh=function(b){var e=0,f;for(f in this.H)this.H[f].type===b&&e++;return e};d.zi=function(){this.O=g.I.wd;this.Ub=0;this.jd="in";this.bg=0.5};d.Ec=function(){this.O=g.I.wd;this.Hb.display=a.dg("",this.view.width,this.view.height);this.Hb.Cd=a.dg("",this.view.width,this.view.height,i);
if(this.getData("fullscreen")==0)this.cc=n;this.Ye();a.gb("resize",this.Ye,window,this);this.B=new a.te(this.Hb.display);a.gb("contextmenu",function(b){a.cf(b)},document.body,this);a.gb("blur",function(){this.stop();if(!(this.O!=g.I.Pb||this.kb)){this.z.ka={};this.paused||this.me()}},window,this);a.gb("focus",function(){this.start()},window,this);this.la=new a.re;this.la.load({ui:"img/sheet_ui.png?cachebust=1.0.53"},this.zi,this);this.images=new a.re;this.images.load({arena:"img/sheet_arena.png?cachebust=1.0.53",
characters:"img/sheet_characters.png?cachebust=1.0.53",objects:"img/sheet_objects.png?cachebust=1.0.53",beholder:"img/sheet_beholder.png?cachebust=1.0.53"},this.Wh,this);this.getData("high_score")===j&&this.Hc("high_score",1E3);this.ei()};d.ei=function(){a.i.Ec(function(){var b=a.i;b.create("normal_battle_music","sound/music/normal_battle",i,20);b.create("final_battle_music","sound/music/final_battle",i,20);b.create("victory","sound/music/victory",i,20);b.create("move_pointer","sound/effects/move_pointer",
n,50);b.create("select_pointer","sound/effects/select_pointer",n,50);b.create("pause","sound/effects/pause");b.create("unpause","sound/effects/unpause");b.create("code_entered","sound/effects/code_entered");b.create("gate_opens","sound/effects/gate_opens");b.create("gate_closes","sound/effects/gate_closes");b.create("spike_attack","sound/effects/spike_attacks");b.create("immunity","sound/effects/immunity",n,25);b.create("coins","sound/effects/coins",n,10);b.create("eat_food","sound/effects/eat_food",
n,20);b.create("pickup_weapon","sound/effects/pickup_weapon");b.create("weapon_wall","sound/effects/weapon_wall",n,25);b.create("fire_attack","sound/effects/char_attacks_fire");b.create("hero_attacks","sound/effects/char_attacks");b.create("hero_damage","sound/effects/char_damage_3");b.create("hero_dies","sound/effects/char_dies");b.create("bat_damage","sound/effects/bat_damage");b.create("bat_dies","sound/effects/bat_dies");b.create("goblin_attacks","sound/effects/goblin_attacks");b.create("goblin_damage",
"sound/effects/goblin_damage");b.create("goblin_dies","sound/effects/goblin_dies");b.create("demoblin_attacks","sound/effects/demoblin_attacks",n,80);b.create("imp_damage","sound/effects/imp_damage",n,30);b.create("imp_dies","sound/effects/imp_dies",n,30);b.create("gel_damage","sound/effects/gel_damage",n,20);b.create("gel_dies","sound/effects/gel_dies",n,20);b.create("skull_damage","sound/effects/skull_damage",n,25);b.create("skull_dies","sound/effects/skull_dies",n,5);b.create("wizard_attacks",
"sound/effects/wizard_attacks",n,25);b.create("wizard_disappear","sound/effects/wizard_disappear",n,50);b.create("wizard_reappear","sound/effects/wizard_reappear",n,50);b.create("sandworm_attacks","sound/effects/sandworm_attacks",n,75);b.create("sandworm_dies","sound/effects/sandworm_dies",n,40);b.create("cyclops_attacks","sound/effects/cyclops_attacks");b.create("cyclops_damage","sound/effects/cyclops_damage");b.create("cyclops_dies","sound/effects/cyclops_dies");b.create("owlbear_alarm","sound/effects/owlbear_alarm",
n,20);b.create("owlbear_attacks","sound/effects/owlbear_attacks",n,15);b.create("owlbear_damage","sound/effects/owlbear_damage",n,40);b.create("owlbear_dies","sound/effects/owlbear_dies",n,50);b.create("cube_attacks","sound/effects/cube_attacks");b.create("cube_damage","sound/effects/cube_damage");b.create("cube_dies","sound/effects/cube_dies");b.create("minotaur_attacks","sound/effects/minotaur_attacks");b.create("minotaur_damage","sound/effects/minotaur_damage");b.create("minotaur_dies","sound/effects/minotaur_dies");
b.create("dragon_attacks","sound/effects/dragon_attacks");b.create("dragon_damage","sound/effects/dragon_damage");b.create("dragon_dies","sound/effects/dragon_dies");b.create("beholder_damage","sound/effects/beholder_damage",n,50);b.create("beholder_dies","sound/effects/beholder_dies",n,25);b.create("eyelet_damage","sound/effects/eyelet_damage",n,25);b.create("eyelet_dies","sound/effects/eyelet_dies",n,25);b.create("dopp_attacks","sound/effects/dopp_attacks");b.create("dopp_damage","sound/effects/dopp_damage");
b.create("dopp_dies","sound/effects/dopp_dies")})};d.Ud=function(){this.Fe=this.Pe=n;this.ze();this.H={};this.O=g.I.rc;this.Wf();this.ci();this.fi();this.hi();this.di();this.He=j;this.Ya=this.bf=this.Zb=this.hb=this.Nf=this.Te=0;this.kc=j;this.kb=this.Uf=n;this.oe=0;this.je=n;this.fd=j;this.zb=n;this.Nc=0;this.db=-70;this.mc="down";this.gd=j;this.Sd=n;this.Td=j;this.Bb=0;this.Hh=a.now()};d.ci=function(){this.ha=new a.qa(32,32);this.map=[[0,0,0,1,1,0,0,0,0,1,1,0,0,0,0,1,1,0,0,0],[0,0,0,1,1,0,0,0,0,
1,1,0,0,0,0,1,1,0,0,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]]};d.fi=function(){this.Ab=[];this.Ab.push(new a.zd(3*this.ha.width,-2*this.ha.height,this.ha.width*2,this.ha.height*2));this.Ab.push(new a.zd(9*this.ha.width,-2*this.ha.height,this.ha.width*2,this.ha.height*2));this.Ab.push(new a.zd(15*this.ha.width,-2*this.ha.height,this.ha.width*2,this.ha.height*2))};d.gi=function(b){var e=0,f;for(f in b.Gc){var h=b.Gc[f],k=this.Ab[h.sg];k.xc=h.xc;k.ae=k.xc;for(var m in h.H){var l=h.H[m];k.Ai(l.type,
l.W)}h=(k.Ic.length-1)*k.xc;if(h>e)e=h}this.gf.start(e+b.vi);this.mg()};d.hi=function(){this.t=[];this.gf=new a.K;this.gf.start(1);this.fb=-1;this.ea={wg:"",size:20,O:"off",ba:0};a.yi(this)};d.di=function(){var b=a.sa(a.a.Tf);b.T=[{type:a.a.Rf,W:j}];b.xe(a.m.Md(this.view).scale(0.5));this.ng=this.xa(b)};a.oc.prototype.Wh=function(){this.bi=i};d.ni=function(){this.jd="out"};d.Oi=function(b){var e=this.z;if(this.z.Wd()||this.B.Vd()){e.Zc();this.B.sb();this.Ud()}if(this.jd==="in"){this.Ub+=this.bg/1E3*
b;if(this.Ub>=1){this.Ub=1;this.jd="none";a.setTimeout(1E3,this.ni,this)}}else if(this.jd==="out"){this.Ub-=this.bg/1E3*b;if(this.Ub<=0){this.Ub=0;this.jd="none";this.Ud()}}};d.Ni=function(b){this.hc.update(b);switch(this.Kb){case 0:if(!this.ja){this.ab=0;this.ja=i}this.ab+=0.0010*b;if(this.ab>=1){this.ab=1;this.Kb++;this.ja=n}break;case 1:if(!this.ja){this.ab=1;this.ja=i}this.ab-=5.0E-4*b;if(this.ab<=0){this.ab=0;this.Kb++;this.ja=n}break;case 2:if(!this.ja){this.hc.start(1E3);this.ja=i}if(this.hc.q()){this.Kb++;
this.ja=n}break;case 3:if(!this.ja){this.mg();this.ja=i}if(this.Rb==="up"){this.Kb++;this.ja=n}break;case 4:if(!this.ja){var e=a.sa(a.a.Tf);e.position.x=304;e.position.y=-64;e.Va=n;e.M(new a.m(0,1));this.Tb=e;this.ja=i}this.Tb.update(b);this.eg(this.Tb,b);if(this.Tb.position.y>=222){this.Tb.xe(a.m.Md(this.view).scale(0.5));this.Tb.oa();this.Kb++;this.ja=n}break;case 5:case 6:case 8:if(!this.ja){this.hc.start(500);this.ja=i}if(this.hc.q()){this.Kb++;this.ja=n}break;case 7:if(!this.ja){this.ze();this.ja=
i}if(this.Rb==="down"){this.Kb++;this.ja=n}break;case 9:if(!this.ja){this.hc.start(1E3);this.ja=i}this.Tb.update(b);if(this.hc.q()){this.Ib="normal_battle_music";a.i.play(this.Ib);this.O=g.I.Pb}}};d.update=function(){var b=a.now(),e=b-this.Se;this.Se=b;this.Qe=e;if(this.bi===i){switch(this.O){case g.I.wd:this.Oi(e);this.Xb();break;case g.I.rc:this.Cc();this.ff(e);this.Xb();break;case g.I.ud:this.Cc();this.Xb();break;case g.I.Rc:this.Cc();this.Xb();break;case g.I.Sc:this.Cc();this.Ni(e);this.ff(e);
this.Xb();break;case g.I.Pb:this.kb?this.Wi(e):this.Cc();if(!this.paused){this.Ui(e);this.Qi(e);this.Mi(e);this.Pi(e);this.ff(e);this.Vi(e)}this.zb&&this.Ti(e);this.Xb();break;case g.I.qe:this.Cg(e);this.Xb();break;case g.I.td:this.Cc();this.Xb()}if(!this.fd)this.fd=new a.K;if(this.B.$a){this.je=i;this.fd.start(5E3);this.wb(3)}this.fd.update(e);if(this.fd.q())this.je=n;this.B.$a=n}};d.Vi=function(b){var e=this.hf;if(e.O==="on"){e.scale+=0.0045*b;e.ba-=0.0025*b;if(e.ba<=0)e.O="off"}};d.Wi=function(b){var e=
this.N();this.nd&&this.nd.update(b);switch(this.oe){case 0:b=new a.m(304,192);e.ld(b);e=e.position.A().Ma(b).abs();e.x<=5&&e.y<=5&&this.oe++;break;case 1:e.M(new a.m(0,1));e.oa();e.ra(a.b.n.of);this.nd=new a.K;this.nd.start(100);this.pg=0;this.oe++;break;case 2:if(this.nd.q()){++this.pg;e=a.sa(a.cj.Ci);if(a.p(1,2)===2){e.position.x=-32;e.position.y=a.p(100,300);e.M(new a.m(1,0))}else{e.position.x=682;e.position.y=a.p(100,300);e.M(new a.m(-1,0))}this.xa(e);this.nd.reset()}this.pg>100&&this.Gf()}};
d.Mi=function(b){if(this.Fe===i){if(this.wc===j){this.wc=new a.K;this.wc.start(2E3)}this.wc.update(b);b=0;for(var e in this.H){var f=this.H[e];if(f.type===a.a.tf){b++;f.position.x<-f.size.width&&f.La()}}if(b<10&&this.wc.q()){if(a.p(1,10)>=1){e=a.p(1,3);for(b=0;b<e;b++){f=a.sa(a.a.tf);f.position.x=640+a.p(1,32);f.position.y=a.p(-(f.size.height/2),480+f.size.height/2);f.M(new a.m(-1,0));this.xa(f)}}this.wc.reset()}}};d.Qi=function(b){if(this.Rb==="up"){var e=i,f;for(f in this.Ab){if(this.Ab[f].Ic.length>=
1)e=n;var h=this.Ab[f].update(b,this.Te===0);h!==n&&this.xa(h)}e&&!this.si&&this.ze()}};d.tg=function(b){switch(b){case 1:var e=this.N();b=a.sa(a.a.Zf);b.position=e.position.A();b.position.x-=96;b.position.y+=64;this.xa(b);b=a.sa(a.a.$f);b.position=e.position.A();b.position.x-=32;b.position.y+=64;this.xa(b);b=a.sa(a.a.Yf);b.position=e.position.A();b.position.x+=32;b.position.y+=64;this.xa(b);b=a.sa(a.a.hd);b.position=e.position.A();b.position.x+=96;b.position.y+=64;this.xa(b);break;case 11:var f=
[{x:192,y:224},{x:416,y:224}];e=f.length;for(b=0;b<e;++b){var h=f[b],k=a.sa(a.a.af);k.position=new a.m(h.x,h.y);this.xa(k)}break;case 21:f=[{x:32,y:64},{x:32,y:352},{x:576,y:64},{x:576,y:352}];e=f.length;for(b=0;b<e;b++){h=f[b];k=a.sa(a.a.Ki);k.position=new a.m(h.x,h.y);this.xa(k)}break;case 31:f=[{x:304,y:114},{x:304,y:304}];e=f.length;for(b=0;b<e;++b){h=f[b];k=a.sa(a.a.af);k.position=new a.m(h.x,h.y);this.xa(k)}break;case 41:this.Fe=i;break;case 50:for(e in this.H){b=this.H[e];b.h===a.b.g.pb&&b.La()}}};
d.Ui=function(b){if(!this.kb){this.gf.update(b);var e=i,f;for(f in this.Ab)if(this.Ab[f].Ic.length>0)e=n;if(e===i&&this.Te===0){if(this.fb===this.t.length-1){this.kb=i;a.i.stop("normal_battle_music");a.i.stop("final_battle_music");a.i.play("victory");return}this.fb++;e=this.fb+1;if(this.Dd||this.Eg){for(f=this.Eg?1:2;f<=e;++f)this.tg(f);this.Eg=n}else this.tg(e);f="Wave "+e;if(e>1&&e%10===1){this.Hc("checkpoint_wave",this.fb);this.Hc("checkpoint_hero",JSON.stringify(this.N()));this.Dd||(f="Game Saved!")}if(this.t[this.fb].tc){f=
"Boss: "+this.t[this.fb].Xc+"!";a.i.Oe("normal_battle_music")&&a.i.stop("normal_battle_music");this.Ib="final_battle_music";a.i.play(this.Ib)}else{a.i.Oe("final_battle_music")&&a.i.stop("final_battle_music");if(!a.i.Oe("normal_battle_music")){this.Ib="normal_battle_music";a.i.play(this.Ib)}}this.gi(this.t[this.fb]);this.ea.wg=f;this.ea.ba=0;this.ea.size=30;this.ea.O="show";this.Dd=n}switch(this.ea.O){case "show":this.ea.ba+=0.0020*b;if(this.ea.ba>=1){this.ea.ba=1;this.ea.Lc=new a.K;this.ea.Lc.start(250);
this.ea.O="display"}break;case "display":this.ea.Lc.update(b);if(this.ea.Lc.q())this.ea.O="hide";break;case "hide":this.ea.ba-=0.0015*b;this.ea.size+=0.2*b;if(this.ea.ba<=0){this.ea.ba=0;this.ea.O="off"}}}};d.Cg=function(b){if(!this.Ac){this.Nd=n;this.Ac=0}this.Ac+=Number(2.0E-4*b)||0;if(this.Ac>=0.75){this.Nd=i;this.Ac=0.75}if(this.Nd){if(!this.kc){this.kc=new a.K;this.Ya=this.Zb=0;this.kc.start(50);this.bf=1}this.kc.update(b);if(this.kc.q()){this.kc.reset();this.Zb+=this.bf}}if(this.Ya>=4&&!this.Uf){this.Uf=
i;b=Number(this.getData("high_score"));var e=this.Ie();if(e>b){this.Hc("high_score",e);a.i.play("victory");this.Nf=i}this.Fi(e,{sj:this.kb,rj:this.fb+1,zg:this.zg,nj:this.N(),ij:this.cc})}};d.pj=function(){return i};d.mg=function(){if(this.Rb!=="up"){this.Bc="up";a.i.play("gate_opens")}};d.ze=function(){if(this.Rb!=="down"){this.Bc="down";a.i.play("gate_closes")}};d.ff=function(b){if(this.Bc==="down"){this.cd=0;this.ec+=0.2*b;if(this.ec>=0){this.ec=this.cd=0;this.Bc="";this.Rb="down"}}if(this.Bc===
"up"){this.cd=a.p(-1,1);this.ec-=0.05*b;if(this.ec<=-54){this.cd=0;this.ec=-54;this.Bc="";this.Rb="up"}}};d.Ti=function(b){if(this.mc==="down"){this.db+=0.1*b;if(this.db>=0){this.db=0;this.mc=j;this.Nc>=4&&this.gd.start(4E3)}}if(this.mc==="up"){this.db-=0.1*b;if(this.db<-70){this.db=-70;this.mc="down";this.Nc+=1;if(this.Nc>4)this.zb=n}}if(!this.gd)this.gd=new a.K;this.gd.update(b);if(this.gd.q())this.mc="up"};d.wb=function(b){if(!(!this.zb||this.mc!==j))if(this.Nc===b-1)this.mc="up"};d.Ph=function(b){var e=
[],f=new a.m(b.left,b.top),h=new a.m(b.width,b.height);b=f.A().scale(1/this.ha.width).floor();f=f.A().add(h).scale(1/this.ha.width).floor();for(h=b.x;h<=f.x;h++)for(var k=b.y;k<=f.y;k++)e.push({x:h,y:k});return e};d.ye=function(b){b=this.Ph(b.Yc());for(var e=0,f=b.length;e<f;e++){var h=b[e];if(this.map[h.y]&&this.map[h.y][h.x]===0)return h}return n};d.eg=function(b,e){if(!b.rb&&b.V(a.b.n.vd))return n;var f=b.f;if(b.V(a.b.n.Uc))f*=0.2;var h=f/1E3*e;f=[];if(b.direction.x!==0){b.position.x+=b.direction.x*
h;if(b.Va){if(b.position.x<16)b.position.x=16;if(b.position.x+b.size.width>624)b.position.x=624-b.size.width;var k=this.ye(b);if(k!==n){f.push("x");b.position.x=b.position.x+b.size.width/2<k.x*this.ha.width+this.ha.width/2?k.x*this.ha.width-b.size.width:k.x*this.ha.width+this.ha.width}}}if(b.direction.y!==0){b.position.y+=b.direction.y*h;if(b.Va){if(b.position.y+b.size.height>400)b.position.y=400-b.size.height;k=this.ye(b);if(k!==n){f.push("y");b.position.y=b.position.y+b.size.height/2<k.y*this.ha.height+
this.ha.height/2?k.y*this.ha.height-b.size.height:k.y*this.ha.height+this.ha.height}}}if(b.Va){h=0;if(this.Rb==="down"||b.h===a.b.g.aa||b.h===a.b.g.Ra)h=64;if(b.direction.y<0&&b.position.y<h){b.position.y=h;f.push("y")}f.length>0&&b.Xi(f)}};d.zf=function(b,e){var f=a.sa(e);f.position=b.position.A();f.position.y-=1;if(e===a.a.Zd)f.position=new a.m(304,226);this.xa(f);if(e===a.a.Zd){var h=a.sa(a.a.Xe);h.position=f.position.A();h.position.x=320-h.size.width/2;h.position.y-=h.size.height+10;this.xa(h)}};
d.Ji=function(b){if(!(b.position.y<44)){for(var e=b.Aa,f=e.length,h=[],k=0;k<f;k++)for(var m=e[k],l=0;l<m.w;l++)h.push(m.type);e=h[a.p(0,h.length-1)];if(e!==j){f=this.N();if(e===a.a.cb&&f.X===0)e=a.a.ic;if(e===a.a.Ta)switch(a.p(1,4)){case 1:e=a.a.Zf;break;case 2:e=a.a.$f;break;case 3:e=a.a.hd;break;case 4:e=a.a.Yf}if(e.h===a.b.g.Nb&&f.Ke(a.a.Qd))e=a.a.Yd;this.zf(b,e)}}};a.oc.prototype.Pi=function(b){var e=0,f=0,h;for(h in this.H){var k=this.H[h];if(k.Me()){if(k.h===a.b.g.Ra){this.Gf();return}k.kg(this);
delete this.H[k.id]}else{if(k.h===a.b.g.aa||k.type===a.a.Xe){e++;k.position.y<=64&&f++}switch(k.update(b,this)){case "shoot":this.jc(k)}k.ki()&&!k.V(a.b.n.ve)&&this.eg(k,b);if(!(k.h===a.b.g.Cb||k.h===a.b.g.ue||k.V(a.b.n.eb)||k.V(a.b.n.mb)))for(var m in this.H){var l=this.H[m];if(!(l.Me()||l.F===k.F||l.h===a.b.g.Cb||l.V(a.b.n.eb)||l.V(a.b.n.mb)))if(k.Yc().reduce(5).Le(l.Yc().reduce(5))){if(k.h==a.b.g.Ra)if(l.h==a.b.g.ue){l.La();k.X-=l.Sf;if(k.X<0)k.X=0;k.be++;a.i.play("eat_food");for(var o=0;o<5;++o){var p=
a.sa(a.a.qi);p.position.x=k.position.x+o*(k.size.width/5);p.position.y=k.position.y+k.size.height-a.p(0,k.size.height);this.xa(p)}}else if(l.h==a.b.g.xd){l.La();k.fc+=l.Ae;a.i.play("coins")}else if(l.h==a.b.g.Nb){l.La();k.Tg(l.sd,l.rd);a.i.play("pickup_weapon");p=this.hf;p.type=l.type;p.scale=1;p.ba=0.9;p.position=l.position.A();p.O="on";if(l.type===a.a.Zd)for(o in this.H)this.H[o].type===a.a.Xe&&this.H[o].La()}if(k.F!==j&&l.F!==j&&k.F!==l.F){this.vf(l,k);this.vf(k,l)}}}}}this.Te=e;this.si=f>0;e=
this.N();if(this.Bb<e.X)this.Bb+=this.Fg/1E3*b;else if(this.Bb>e.X)this.Bb-=this.Fg/1E3*b;else this.Bb=e.X;f=this.Ie();b=Math.floor(a.sf(Math.abs(this.hb-f),1E3,1E4)/1E3*b);if(this.hb<f){this.hb+=b;if(this.hb>f)this.hb=f}else if(this.hb>f){this.hb-=b;if(this.hb<f)this.hb=f}if(Math.abs(e.X-this.Bb)<=1)this.Bb=e.X};a.oc.prototype.vf=function(b,e){if(b.h===a.b.g.aa&&e.h===a.b.g.G)return n;b.de(e,this);if(b.h==a.b.g.G&&e.h==a.b.g.pb||b.h==a.b.g.pb&&e.h==a.b.g.G)return n;var f=e.lg(b,this);if(e.V(a.b.n.Sa)||
e.l===Infinity||f===i){if(b.h===a.b.g.G&&b.l!==Infinity)if(e.ga===a.b.fa.pc&&b.ga===a.b.fa.pc){b.Ze();b.Gd();a.i.play("immunity")}else b.La();return n}if(b.l!==Infinity&&b.h===a.b.g.G&&e.h===a.b.g.G&&b.ga===a.b.fa.pc&&e.ga===a.b.fa.pc){if(b.Vb===n){b.Ze();b.Gd()}if(e.Vb===n){e.Ze();e.Gd()}return n}b.ce(e,this);f=b;if(f.Wa!==j){var h=this.H[f.Wa];if(h)f=h}b.h===a.b.g.G&&f.ie++;if(e.pe(b.s)){f.fc+=e.Ga;f.$d++;e.md(b,this);e.Aa.length>0&&this.Ji(e);b.h===a.b.g.G&&b.Vb===n&&b.l!==Infinity&&b.La()}else{b.s>
0&&e.h===a.b.g.Ra&&e.ra(a.b.n.Sa,2500);b.h===a.b.g.G&&b.l!==Infinity&&b.La()}};d.Si=function(){this.jb.fg=n;var b=new a.m(this.B.Ue,this.B.Ve),e=new a.yd(32,64,576,320),f=this.jb.position;if(f.x!==b.x&&f.y!==b.y){this.jb.fg=i;var h=f.A().Ma(b.A()).abs();this.jb.Za+=a.sf((h.x+h.y)*2,1,100)/1E3*this.Qe;if(this.jb.Za>Math.PI*2)this.jb.Za=0}f.x=b.x<e.left?e.left:b.x>e.left+e.width?e.left+e.width:b.x;f.y=b.y<e.top?e.top:b.y>e.top+e.height?e.top+e.height:b.y};d.Cc=function(){var b=this.z,e=a.nb.Lg,f=a.te.Gg,
h=new a.m(this.B.Ue,this.B.Ve),k,m=n;if(this.O==g.I.Pb){if(this.z.Qa(e.lf)||this.z.Qa(e.Hg))if(this.zb)this.zb=n;else{this.me();this.z.Zc();return}if(this.paused)m=i;this.z.Qa(77)&&a.i.Bg();this.z.Qa(70)&&this.Ag();if(this.z.gc(a.nb.Qh)){this.z.uc();var l=this.N();l.Qb=i;l.V(a.b.n.Sa)?l.Lb(a.b.n.Sa):l.ra(a.b.n.Sa);a.i.play("code_entered")}if(this.z.gc(a.nb.Ug)){this.z.uc();l=this.N();l.Qb=i;l.T=[{type:a.a.Qd,W:j}];a.i.play("code_entered")}if(this.z.gc(a.nb.Vg)){this.z.uc();l=this.N();l.Qb=i;l.T=[{type:a.a.Of,
W:j}];a.i.play("code_entered")}if(this.z.gc(a.nb.Wg)){this.z.uc();l=this.N();l.Qb=i;l.T=[{type:a.a.Pf,W:j}];a.i.play("code_entered")}if(this.z.gc(a.nb.Zg)){this.z.uc();this.Fd=!this.Fd;a.i.play("code_entered")}if(this.z.gc(a.nb.Bi)){this.z.uc();this.clearData("checkpoint_wave");this.clearData("checkpoint_hero");this.Hc("high_score",1E3);a.i.play("code_entered")}if(this.paused){l=this.xb-22;if(this.Oc){if(h.x>=270&&h.x<=462&&h.y>l&&h.y<l+23){if(this.B.$a&&this.Q!==0)k=0;if(this.B.bb(f.ta))this.z.ka[e.Ha]=
i}if(h.x>=270&&h.x<=462&&h.y>l+24&&h.y<l+24+36){if(this.B.$a&&this.Q!==1)k=1;if(this.B.bb(f.ta))this.z.ka[e.Ha]=i}}else{if(h.x>=270&&h.x<=376&&h.y>l&&h.y<l+23){if(this.B.$a&&this.Q!==0)k=0;if(this.B.bb(f.ta))this.z.ka[e.Ha]=i}if(h.x>=270&&h.x<=376&&h.y>l+24&&h.y<l+24+36){if(this.B.$a&&this.Q!==1)k=1;if(this.B.bb(f.ta))this.z.ka[e.Ha]=i}}if(b.Qa(e.ac)||b.Qa(e.Ha)){b.vc(e.ac);b.vc(e.Ha);this.B.sb();switch(this.Q){case 0:this.me();break;case 1:a.i.play("select_pointer");if(this.Oc){this.Oc=n;this.me();
l=this.N();l.pe(100)}else{this.Q=0;this.Oc=i}}}}}if(this.O===g.I.rc){m=i;if(!this.Pe&&this.z.gc(a.nb.li)){a.i.play("code_entered");this.Pe=i;l=this.N();l.Qb=i;l.l*=3}l=this.xb-22;if(this.we())if(h.x>=230&&h.x<=400&&h.y>=l&&h.y<l+20){if(this.B.$a&&this.Q!==0)k=0;if(this.B.bb(f.ta))this.z.ka[e.Ha]=i}l+=24;if(h.x>=230&&h.x<=400&&h.y>=l&&h.y<l+20){if(this.B.$a&&this.Q!==1)k=1;if(this.B.bb(f.ta))this.z.ka[e.Ha]=i}l+=24;if(h.x>=230&&h.x<=400&&h.y>=l&&h.y<l+20){if(this.B.$a&&this.Q!==2)k=2;if(this.B.bb(f.ta))this.z.ka[e.Ha]=
i}l+=24;if(h.x>=230&&h.x<=400&&h.y>=l&&h.y<l+20){if(this.B.$a&&this.Q!==3)k=3;if(this.B.bb(f.ta))this.z.ka[e.Ha]=i}if(b.Qa(e.ac)||b.Qa(e.Ha)){a.i.play("select_pointer");b.vc(e.ac);b.vc(e.Ha);this.B.sb();switch(this.Q){case 0:l=this.getData("checkpoint_wave");if(l!==j){this.fb=l-1;var o=this.getData("checkpoint_hero");if(o!==j){l=this.N();l.load(o);l.lc+=l.X;l.X=0}this.Dd=i;this.zb=n;this.O=g.I.Sc}break;case 1:this.Dd=n;this.zb=i;this.O=g.I.Sc;break;case 2:this.O=g.I.ud;break;case 3:this.O=g.I.Rc}}}if(this.O==
g.I.td){m=i;l=this.xb-22;if(h.x>=270&&h.x<=376&&h.y>l&&h.y<l+23){if(this.B.$a&&this.Q!==0)k=0;if(this.B.bb(f.ta))this.z.ka[e.Ha]=i}if(h.x>=270&&h.x<=376&&h.y>l+24&&h.y<l+24+36){if(this.B.$a&&this.Q!==1)k=1;if(this.B.bb(f.ta))this.z.ka[e.Ha]=i}if(b.Qa(e.ac)||b.Qa(e.Ha)){b.vc(e.ac);b.vc(e.Ha);this.B.sb();a.i.play("select_pointer");switch(this.Q){case 0:location.href="https://chrome.google.com/extensions/detail/khodnfbkbanejphecblcofbghjdgfaih";break;case 1:a.i.stop("victory");this.Ud()}}}if(this.O===
g.I.Rc)if(this.B.bb(f.ta))if(h.x>76&&h.x<560)if(h.y>392&&h.y<416){location.href="/onslaught_arena/high_scores";return}if(this.O===g.I.ud||this.O===g.I.Rc)if(this.z.Wd()||this.B.Vd()){b.Zc();this.B.sb();this.O=g.I.rc}if(this.O===g.I.Sc)if(this.z.Wd()||this.B.Vd()){b.Zc();this.B.sb();this.O=g.I.Pb;l=this.N();this.Bb=l.X;this.Ib="normal_battle_music";a.i.play(this.Ib)}if(m){if(this.z.Qa(e.Vc)||this.z.Qa(e.Fb)){this.z.ka[e.Vc]=n;this.z.ka[e.Fb]=n;this.Q--;if(this.Q<this.Fc)this.Q=this.kd;a.i.play("move_pointer")}if(this.z.Qa(e.qc)||
this.z.Qa(e.Na)){this.z.ka[e.qc]=n;this.z.ka[e.Na]=n;this.Q++;if(this.Q>this.kd)this.Q=this.Fc;a.i.play("move_pointer")}this.z.df();if(k!==undefined){a.i.play("move_pointer");this.Q=k}}if(this.O===g.I.Pb){l=this.N();if(this.paused||l.V(a.b.n.eb))this.z.df();else{this.Si();k=new a.m;m=new a.m;if(b.vb(e.Vc)){k.y=-1;this.wb(1)}if(b.vb(e.Pc)){k.x=-1;this.wb(1)}if(b.vb(e.qc)){k.y=1;this.wb(1)}if(b.vb(e.lb)){k.x=1;this.wb(1)}if(b.vb(e.Fb)){m.y=-1;this.wb(2)}if(b.vb(e.Na)){m.y=1;this.wb(2)}if(b.vb(e.ta)){m.x=
-1;this.wb(2)}if(b.vb(e.Ob)){m.x=1;this.wb(2)}l.oa();if(k.x!==0||k.y!==0)l.M(k);if(this.B.Zi(f.ta))if(this.zb&&h.y<=70+this.db){this.zb=n;this.B.sb()}else if(h.x>=604&&h.x<=636&&h.y>=443&&h.y<=475){this.Ag();this.B.sb()}else if(h.x>=506&&h.x<=602&&h.y>=416&&h.y<=474){a.i.Bg();this.B.sb()}if(this.B.bb(f.ta)){b=this.jb.position.A().Ma(l.Yc().rf()).normalize();this.jc(l,b);this.Sd=i;this.Td=b;this.wb(4);this.je=i}else if(m.x!==0||m.y!==0){this.jc(l,m);this.Sd=i;this.Td=m}else{this.Sd=n;this.Td=j}this.z.df();
this.B.Li()}}};d.jc=function(b,e){if(!e)e=b.dc;var f=b.Fh();if(f!==n){switch(f){case a.a.Ee:for(var h=e.Dc(),k=-0.5;k<=0.5;k+=0.5)this.$(b,f,a.m.Pa(h+k));b.ib+=3;break;case a.a.Qf:case a.a.Of:h=e.Dc();this.$(b,f,a.m.Pa(h-0.1));this.$(b,f,a.m.Pa(h+0.1));b.ib+=2;break;case a.a.Df:for(k=-0.25;k<=0.25;k+=0.25){h=e.Dc();h+=k+a.p(-1,1)/10;this.$(b,f,a.m.Pa(h))}b.ib+=3;break;case a.a.Rd:h=e.Dc();var m=a.m.Pa(h);k=this.$(b,f,m.A());k=this.H[k];k.position.add(a.m.Pa(h-Math.PI/2).scale(16));k.position.add(m.A().scale(16));
k=this.$(b,f,m.A());k=this.H[k];k.position.add(m.A().scale(32));k=this.$(b,f,m.A());k=this.H[k];k.position.add(a.m.Pa(h+Math.PI/2).scale(16));k.position.add(m.A().scale(16));b.ib+=3;break;case a.a.Pf:var l=this.jb.position.A();m=Math.PI*2;var o=m/20;for(h=0;h<m;h+=o){k=a.sa(a.a.Rd);k.position.x=l.x-16;k.position.y=l.y-16;k.M(a.m.Pa(h));k.Wa=b.id;k.F=b.F;this.xa(k);b.ib+=1}break;case a.a.Ef:m=Math.PI*2;o=m/10;for(h=k=o/2;h<m+k;h+=o)this.$(b,f,a.m.Pa(h));break;case a.a.Ff:m=Math.PI*2;o=m/10;for(h=0;h<
m;h+=o)this.$(b,f,a.m.Pa(h));break;case a.a.Id:m=Math.PI*2;o=m/8;for(h=0;h<m;h+=o)this.$(b,f,a.m.Pa(h));break;default:this.$(b,f,e);b.ib++}b.od[f]||(b.od[f]=0);b.od[f]++;h=j;if(f.da)h=f.da;else if(b.da)h=b.da;h!==j&&a.i.play(h)}};d.Xb=function(){var b=this.Hb.display.getContext("2d");switch(this.O){case g.I.wd:this.jh(b);break;case g.I.rc:this.De(b);this.Ce(b);this.ph(b);break;case g.I.ud:this.De(b);this.dh(b);break;case g.I.Rc:this.De(b);this.gh(b);break;case g.I.Sc:this.ih(b);break;case g.I.Pb:this.yc(b);
this.kb||this.oh(b);this.lh(b);this.bd(b);this.zc(b);this.sh(b);this.rh(b);this.yf(b);if(this.paused){this.mh(b);this.Ce(b);this.nh(b)}this.zb&&this.qh(b);break;case g.I.qe:this.fh(b);break;case g.I.td:this.bh(b);this.Ce(b)}this.Fd===i&&this.eh(b)};d.sh=function(b){var e=this.hf;if(e.O==="on"){var f=a.sa(e.type);b.save();b.translate(e.position.x+f.size.width/2,e.position.y+f.size.height/2);b.globalAlpha=e.ba;b.drawImage(this.images.L("objects"),128,192,48,48,-22*e.scale,-20*e.scale,48*e.scale,48*
e.scale);b.drawImage(this.images.L(f.o),f.r,f.k+1,f.size.width-1,f.size.height-1,-(f.size.width/2*e.scale),-(f.size.height/2*e.scale),f.size.width*e.scale,f.size.height*e.scale);b.restore()}};d.rh=function(b){if(this.ea.O=="show"||this.ea.O=="hide"||this.ea.O=="display"){var e=this.ea.wg,f=parseInt(this.ea.size),h=this.Hb.Cd.getContext("2d");h.save();h.clearRect(0,0,320,240);h.font="Bold "+f+"px Cracked";h.textBaseline="top";h.lineWidth=3;h.strokeStyle="rgb(0, 0, 0)";h.fillStyle="rgb(230, 103, 8)";
var k=160-h.measureText(e).width/2;f=120-f/2-20;h.strokeText(e,k,f);h.fillText(e,k,f);h.restore();b.save();b.globalAlpha=this.ea.ba;b.drawImage(this.Hb.Cd,0,0,320,240,0,0,640,480);b.restore()}};d.fh=function(b){if(this.Pd){this.ed+=this.Pd;if(this.ed<=0){this.ed=0;this.Pd=0.025}if(this.ed>=1){this.ed=1;this.Pd=-0.025}}else{this.Pd=-0.025;this.ed=1}if(!this.He){this.yf(b);this.He=b.getImageData(0,0,this.view.width,this.view.height)}b.putImageData(this.He,0,0);b.save();b.globalAlpha=this.Ac;b.fillStyle=
this.kb?"rgb(0, 0, 0)":"rgb(215, 25, 32)";b.fillRect(0,0,this.view.width,this.view.height);b.restore();if(this.Nd===i){if(this.z.Wd()||this.B.Vd()){this.z.Zc();this.B.sb();this.Ya+=1;if(this.Ya>=5){a.i.stop("victory");this.Ud();return}}b.drawImage(this.la.L("ui"),0,2322,564,404,38,38,564,404);if(this.kb)b.drawImage(this.la.L("ui"),564,2444,256,50,192,70,256,50);else this.Nf?b.drawImage(this.la.L("ui"),564,2374,404,50,119,70,404,50):b.drawImage(this.la.L("ui"),564,2324,218,50,211,70,218,50);this.kh(this.N(),
b);this.Ya>=4&&b.drawImage(this.la.L("ui"),564,2424,334,20,153,404,334,20)}};d.bh=function(b){b.save();b.globalAlpha=0.7;b.fillRect(0,0,this.view.width,this.view.height);b.globalAlpha=1;b.drawImage(this.la.L("ui"),370,0,564,404,38,38,564,404);b.restore();var e=this.xb-22,f;f=this.Q==0?260:0;b.drawImage(this.la.L("ui"),f,2122,200,40,270,e,200,40);f=this.Q==1?260:0;e+=24;b.drawImage(this.la.L("ui"),f,2182,200,40,270,e,200,40)};d.kh=function(b,e){e.save();e.font="Bold 40px Cracked";var f,h=0,k=0,m=this.fb;
if(this.kb)m+=1;var l=0;if(this.Ya===0){l=this.Zb;h=m;f=199;k=10}else l=m;e.fillStyle="rgb(199, 234, 251)";e.fillText(l+" x 1000",350,182);m=0;if(this.Ya===1){m=this.Zb;h=b.fc;k=f=10}else if(this.Ya>1)m=b.fc;e.fillStyle="rgb(255, 245, 121)";e.fillText(m,350,235);m=0;if(this.Ya===2){m=this.Zb;h=b.lc;f=299;k=5}else if(this.Ya>2)m=b.lc;e.fillStyle="rgb(237, 28, 36)";e.fillText("-"+m+" x 10",350,290);m="";l=this.Ie();if(this.Ya===3){m=this.Zb;h=l}else if(this.Ya>3)m=l;e.fillStyle="rgb(250, 166, 26)";
e.fillText(m,350,349);if(this.Zb>=h){this.Zb=0;this.bf=f;this.Ya+=1;this.kc.start(k)}e.restore()};d.Ie=function(){var b=this.N(),e=this.fb;if(this.kb)e+=1;e=e*1E3;e+=b.fc;e-=b.lc*10;if(b.Qb===i)e/=2;if(e<0)e=0;return e};d.jh=function(b){b.save();b.fillStyle="rgb(0, 0, 0)";b.fillRect(0,0,this.view.width,this.view.height);b.restore();if(this.Ub>0){b.save();b.globalAlpha=this.Ub;b.drawImage(this.la.L("ui"),0,0,370,430,160,0,370,430);b.restore()}};d.yc=function(b){b.drawImage(this.images.L("arena"),32,
480,576,386,32,0,576,386)};d.zc=function(b){b.drawImage(this.images.L("arena"),0,0,640,480,0,0,this.view.width,this.view.height)};d.gj=function(b){this.yc(b);this.zc(b)};d.mh=function(b){b.save();b.globalAlpha=0.7;b.fillRect(0,0,this.view.width,this.view.height);b.globalAlpha=1;b.drawImage(this.la.L("ui"),0,1718,564,404,38,38,564,404);var e=this.N();b.font="Bold 36px Cracked";b.textAlign="left";b.fillStyle="rgb(237, 28, 36)";b.fillText(e.$d,390,164);b.fillStyle="rgb(145, 102, 0)";b.fillText(e.be,
390,216);b.fillStyle="rgb(199, 234, 251)";b.fillText(e.ib,390,270);b.fillStyle="rgb(250, 166, 26)";b.fillText(this.Kh(e)+"%",390,324);b.restore()};d.Kh=function(b){if(b.ib===0)return 0;return Math.round(b.ie/b.ib*100)};d.qh=function(b){if(!this.paused){b.save();b.globalAlpha=0.7;b.fillRect(0,this.db,this.view.width,70);b.globalAlpha=1;b.font="Bold 30px Cracked";b.textAlign="center";var e=["MOVE with the WASD keys.","ATTACK with the ARROW keys.","Or use the MOUSE to AIM with the target reticle.","ATTACK by HOLDING DOWN the LEFT MOUSE BUTTON.",
"KILL MONSTERS and COLLECT GOLD to raise your score!"];b.fillStyle="rgb(0, 0, 0)";b.fillText(e[this.Nc],322,this.db+36);b.fillStyle="rgb(230, 230, 230)";b.fillText(e[this.Nc],320,this.db+34);b.font="20px Cracked";b.fillStyle="rgb(0, 0, 0)";b.fillText("Press here or ESC to skip",322,this.db+62);b.fillStyle="rgb(118, 151, 183)";b.fillText("Press here or ESC to skip",320,this.db+60);b.restore()}};d.Nh=function(){var b=[],e;for(e in this.H){var f=this.H[e];b.push({id:f.id,va:f.va,y:f.position.y+f.size.height})}b.sort(function(h,
k){return h.va===k.va?h.y-k.y:h.va-k.va});return b};d.xf=function(b,e){var f=e.h===a.b.g.Ra&&this.Sd?e.Mf(this.Td):e.Mf();if(!(e.ba<=0||e.V(a.b.n.mb))){b.save();b.translate(e.position.x+e.size.width/2,e.position.y+e.size.height/2);e.Za!==0&&b.rotate(e.Za*Math.PI/180);if(e.ba!==1)b.globalAlpha=e.ba;e.h===a.b.g.Nb&&b.drawImage(this.images.L("objects"),128,192,48,48,-22,-20,48,48);b.drawImage(this.images.L(e.o),f.x,f.y+1,e.size.width-1,e.size.height-1,-(e.size.width/2),-(e.size.height/2),e.size.width,
e.size.height);if(e.vg){b.save();b.globalAlpha=1-e.X/e.l+0.3;b.drawImage(this.images.L(e.o),f.x,e.vg+1,e.size.width-1,e.size.height-1,-(e.size.width/2),-(e.size.height/2),e.size.width,e.size.height);b.restore()}e.h===a.b.g.aa&&e.rb&&e.V(a.b.n.vd)&&this.hh(b,this.images.L(e.o),f.x,f.y+1,e.size.width-1,e.size.height-1,-(e.size.width/2),-(e.size.height/2),e.size.width,e.size.height,"rgba(186, 51, 35, 0.6)");if(this.Fd&&e.h===a.b.g.aa||e.rb&&!e.V(a.b.n.eb)){f=e.size.width-2;f=f-Math.round(f*e.X/e.l);
b.fillStyle="rgb(241, 241, 242)";b.fillRect(-(e.size.width/2),e.size.height/2,e.size.width,8);b.fillStyle="rgb(0, 0, 0)";b.fillRect(-(e.size.width/2)+1,e.size.height/2+1,e.size.width-2,6);b.fillStyle=this.Lf(e.l,e.l-e.X);b.fillRect(-(e.size.width/2)+1,e.size.height/2+1,f,6)}b.restore()}};a.oc.prototype.lh=function(b){var e=this.Nh(),f;for(f in e)this.xf(b,this.H[e[f].id])};d.oh=function(b){if(this.je){b.save();b.globalAlpha=0.75;b.translate(this.jb.position.x,this.jb.position.y);b.rotate(this.jb.Za);
b.drawImage(this.images.L("objects"),256,192,64,64,-32,-32,64,64);b.restore()}};d.hh=function(b,e,f,h,k,m,l,o,p,s,t){var r=this.Hb.Cd.getContext("2d");r.save();r.clearRect(0,0,640,480);r.drawImage(e,f,h,k,m,0,0,p,s);r.globalCompositeOperation="source-in";r.fillStyle=t;r.fillRect(0,0,p,s);r.restore();b.drawImage(this.Hb.Cd,0,0,p,s,l,o,p,s)};d.yf=function(b){var e=this.N(),f=e.Je(),h=f.type;f=f.W?f.W:"";b.drawImage(this.images.L("objects"),h.r,h.k,32,32,4,412,32,32);b.drawImage(this.images.L("objects"),
32,32,32,32,4,443,32,32);b.save();b.textAlign="left";b.font="Bold 38px Cracked";b.globalAlpha=0.75;b.fillStyle="rgb(0, 0, 0)";b.fillText(f,48,444);b.fillText(this.hb,48,474);b.globalAlpha=1;b.fillStyle="rgb(241, 241, 242)";b.fillText(f,46,440);b.fillText(this.hb,46,472);b.restore();h={width:280,height:24,x:180,y:432};var k=h.width-Math.round(h.width*e.X/e.l),m=h.width-Math.round(h.width*this.Bb/e.l);if(this.Bb<e.X){f=k;k=m}else{f=m;k=k}b.save();b.fillStyle="rgb(241, 241, 242)";b.fillRect(h.x-2,h.y-
2,h.width+2,h.height+4);b.fillRect(h.x+h.width,h.y,2,h.height);b.fillStyle="rgb(0, 0, 0)";b.fillRect(h.x,h.y,h.width,h.height);b.fillStyle=this.Lf(e.l,e.l-e.X);b.globalAlpha=0.4;b.fillRect(h.x,h.y,k,h.height);b.fillRect(h.x,h.y,f,h.height);b.fillRect(h.x,h.y+5,f,h.height-10);b.fillRect(h.x,h.y+10,f,h.height-20);b.restore();e=(e.l-e.X)/e.l*100;f=352;if(e>50)f=224;else if(e>25)f=288;b.drawImage(this.images.L("objects"),f,64,42,42,h.x-32,424,42,42);b.drawImage(this.images.L("objects"),a.i.Ne()?96:0,
96,96,58,506,416,96,58);f=this.cc?596:564;b.drawImage(this.la.L("ui"),f,910,32,32,604,443,32,32)};d.De=function(b){b.drawImage(this.la.L("ui"),0,430,640,480,0,0,640,480);var e="High Score: "+this.getData("high_score");b.save();b.font="Bold 36px Cracked";b.textAlign="center";b.fillStyle="rgb(0, 0, 0)";b.fillText(e,322,456);b.fillStyle="rgb(230, 230, 230)";b.fillText(e,320,454);b.restore();b.save();b.font="Bold 14px Monospace";b.textAlign="right";b.fillStyle="rgb(0, 0, 0)";b.fillText("v1.0.53",638,
478);b.fillStyle="rgb(230, 230, 230)";b.fillText("v1.0.53",636,476);b.restore();b.save();b.font="Bold 14px Monospace";b.fillStyle="rgb(0, 0, 0)";b.fillText("Lost Decade Games \u00a9 2010",6,478);b.fillStyle="rgb(230, 230, 230)";b.fillText("Lost Decade Games \u00a9 2010",4,476);b.restore()};d.Ce=function(b){var e=this.xb+this.Q*24-24;b.save();b.drawImage(this.images.L("objects"),320,192,36,26,228,e,36,26);b.restore()};d.we=function(){var b=this.getData("checkpoint_wave");return Boolean(b)};d.ph=function(b){var e=
this.xb-22,f;f=this.we()?this.Q==0?638:430:534;b.drawImage(this.la.L("ui"),640,f,116,20,270,e,116,20);f=this.Q==1?664:456;b.drawImage(this.la.L("ui"),640,f,132,26,270,e+24,132,26);f=this.Q==2?690:482;b.drawImage(this.la.L("ui"),640,f,90,22,270,e+48,90,22);f=this.Q==3?714:506;b.drawImage(this.la.L("ui"),640,f,146,28,270,e+72,146,28)};d.nh=function(b){var e=this.xb-22,f;if(this.Oc){f=this.Q==0?1932:1860;b.drawImage(this.la.L("ui"),564,f,158,26,270,e,158,26)}else{f=this.Q==0?1788:1718;b.drawImage(this.la.L("ui"),
564,f,106,26,270,e,106,26)}if(this.Oc){f=this.Q==1?1966:1894;b.drawImage(this.la.L("ui"),564,f,192,32,270,e+24,196,32)}else{f=this.Q==1?1822:1752;b.drawImage(this.la.L("ui"),564,f,70,36,270,e+24,70,36)}};d.Wf=function(){switch(this.O){case g.I.rc:this.xb=300;if(this.we())this.Fc=this.Q=0;else this.Fc=this.Q=1;this.kd=3;break;case g.I.Pb:this.xb=378;this.Q=0;this.kd=1;this.Fc=0;this.Oc=n;break;case g.I.td:this.xb=378;this.Q=0;this.kd=1;this.Fc=0}};d.gh=function(b){b.save();b.globalAlpha=0.7;b.fillRect(0,
0,this.view.width,this.view.height);b.globalAlpha=1;b.drawImage(this.la.L("ui"),0,910,564,404,38,38,564,404);try{var e=JSON.parse(window.mj)}catch(f){e=j}b.font="Bold 40px Cracked";if(e&&e.length){var h=5;if(e.length<h)h=e.length;for(var k=0;k<h;++k){var m=e[k],l=k+1+".   "+m.name;b.fillStyle="rgb(241, 241, 242)";b.textAlign="left";b.fillText(l,100,160+k*50);b.fillStyle="rgb(255, 203, 5)";b.textAlign="right";b.fillText(m.value,500,160+k*50)}}else{b.fillStyle="rgb(241, 241, 242)";b.textAlign="center";
b.fillText("None yet. Submit yours!",320,240)}b.restore()};d.dh=function(b){b.save();b.globalAlpha=0.7;b.fillRect(0,0,this.view.width,this.view.height);b.globalAlpha=1;b.drawImage(this.la.L("ui"),0,1314,564,404,38,38,564,404);b.restore()};d.ih=function(b){switch(this.Kb){case 0:if(!this.Xf){this.Xf=b.getImageData(0,0,this.view.width,this.view.height);this.ab=0}b.fillStyle="rgb(0, 0, 0)";b.fillRect(0,0,640,480);b.save();b.putImageData(this.Xf,0,0);b.restore();if(this.ab>0){b.save();b.globalAlpha=this.ab;
b.fillStyle="rgb(0, 0, 0)";b.fillRect(0,0,640,480);b.restore()}break;case 1:this.yc(b);this.bd(b);this.zc(b);if(this.ab>0){b.save();b.globalAlpha=this.ab;b.fillStyle="rgb(0, 0, 0)";b.fillRect(0,0,640,480);b.restore()}break;case 2:case 3:this.yc(b);this.bd(b);this.zc(b);break;case 4:case 5:case 9:this.yc(b);this.Tb&&this.xf(b,this.Tb);this.bd(b);this.zc(b);break;case 6:case 7:case 8:this.yc(b);b.drawImage(this.images.L("characters"),640,0,32,32,304,224,32,32);this.bd(b);this.zc(b)}};d.bd=function(b){for(var e=
0;e<3;e++){var f=0,h=192;if(e>0){f=320;h=e==1?288:352}b.drawImage(this.images.L("objects"),f,h,64,64,this.cd+96+e*192,this.ec,64,64)}};d.eh=function(b){b.save();b.fillStyle="rgba(0, 0, 0, 0.3)";b.fillRect(0,0,this.view.width,30);b.restore();b.save();b.fillStyle="rgb(241, 241, 242)";b.font="Bold 20px Monospace";b.fillText("Elapsed: "+this.Qe,10,20);b.textAlign="right";b.fillText(Math.round(1E3/this.Qe)+" FPS",630,20);b.restore()};d.getData=function(b){if(typeof localStorage=="object")return localStorage.getItem(b)};
d.Hc=function(b,e){typeof localStorage=="object"&&localStorage.setItem(b,e)};d.clearData=function(b){typeof localStorage=="object"&&localStorage.removeItem(b)};d.Gf=function(){this.Nd=n;this.Ac=0;this.Cg();this.O=g.I.qe;this.zg=a.now()-this.Hh};d.Fi=function(b,e){var f=window.mi?decodeURIComponent(window.mi):"ldgftw",h="high_score="+b;h+="&x="+encodeURIComponent(a.x(h,f));if(e)h+="&m="+encodeURIComponent(a.x(JSON.stringify(e),f));h+="&y="+encodeURIComponent(a.x("high_score",f));h+="&z="+encodeURIComponent(a.x(this.O,
f));h+="&t="+a.K.now();f=new XMLHttpRequest;f.open("POST","/onslaught_arena/high_scores");f.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");f.send(h)};d.Ag=function(){a.i.play("select_pointer");this.cc=!this.cc;this.Hc("fullscreen",this.cc?1:0);this.Ye()}})();(function(){a.b=function(){this.id="";this.Wa=j;this.position=new a.m;this.size=new a.qa(32,32);this.direction=new a.m;this.dc=new a.m(0,1);this.f=100;this.F=j;this.s=this.l=1;this.o="";this.k=this.r=0;this.U=
this.Xa=n;this.bc=0;this.Wc=2;this.u=200;this.Yb=this.Bd=0;this.pd=2;this.Za=this.Kc=this.Jc=0;this.Ja=400;this.rotate=n;this.Mc=this.J=this.Ga=0;this.Ad=this.ba=1;this.dd="small";this.D=n;this.$c=0;this.dj=n;this.na=this.ma=this.da=j;this.pf=i;this.n=[];this.ra(a.b.n.IDLE);this.Ka=0;this.Z=this.Va=i;this.Vb=n;this.na=this.ma=j;this.ga=a.b.fa.pc;this.va=1;this.Ba=0;this.Y=500;this.X=0;this.T=[];this.ie=this.ib=this.lc=this.ef=this.$d=this.fc=0;this.od={};this.be=0;this.Qb=n;this.C=0;this.d=n;this.Aa=
[]};a.b.n={IDLE:0,bj:1,aj:2,vd:3,eb:4,Sa:5,mb:6,ob:7,nc:8,ve:9,of:10};a.b.g={Ra:0,aa:1,G:2,pb:3,Nb:4,xd:5,ue:6,Cb:7};a.b.fa={pc:0,Fa:1};var g=a.b.prototype;g.R=q();g.S=q();g.kg=q();g.ee=q();g.de=q();g.lg=q();g.ce=q();g.md=q();g.load=function(d){d=JSON.parse(d);this.X=d.X;this.T=d.T;this.Ka=d.Ka;this.fc=d.fc;this.$d=d.$d;this.ef=d.ef;this.lc=d.lc;this.ib=d.ib;this.ie=d.ie;this.od=d.od;this.be=d.be;this.Qb=d.Qb};g.Mb=function(d){this.C=d;this.d=n};g.P=function(){this.Mb(this.C+1)};g.Ri=function(d){for(var b in this.n){var e=
this.n[b];e.Lc.update(d);e.Lc.q()&&this.og(b)}};g.V=function(d){for(var b in this.n)if(this.n[b].type===d)return i;return n};g.ra=function(d,b){if(this.V(d))return n;var e=new a.K;e.start(b);this.n.push({type:d,Lc:e});switch(d){case a.b.n.Uc:this.We=this.u;this.u*=2}};g.og=function(d){switch(this.n[d].type){case a.b.n.Sa:this.ba=1;this.Ad=-1;break;case a.b.n.Uc:this.u=this.We}delete this.n[d]};g.Lb=function(d){for(var b in this.n)this.n[b].type===d&&this.og(b)};g.Ec=function(){this.R();if(this.rotate)this.Za=
a.p(0,359);if(this.U)this.Bd=a.p(0,this.u)};g.La=function(){this.pf=n};g.Me=function(){return!this.pf};g.update=function(d,b){this.Ri(d);this.ad&&this.ad.update(d);if(this.V(a.b.n.eb))if(this.ad.q()){this.Ed++;this.ad.reset();if(this.Ed>2){this.Ed=2;this.J=750}}if(this.V(a.b.n.Sa)){this.ba+=0.01*d*this.Ad;if(this.ba>=1){this.ba=1;this.Ad=-1}if(this.ba<=0){this.ba=0;this.Ad=1}}if(!this.V(a.b.n.ve)){if(this.U){this.Bd+=d;if(this.Bd>=this.u){this.Bd=0;this.bc++;if(this.bc>this.Wc-1)this.bc=0;if(this.V(a.b.n.ob)){this.Yb++;
this.Yb>this.pd&&this.Lb(a.b.n.ob)}if(this.V(a.b.n.nc)){this.Yb--;this.Yb<0&&this.Lb(a.b.n.nc)}}}if(this.Xa)this.Za=this.dc.Za();if(this.rotate)this.Za+=this.Ja/1E3*d;if(this.J>0){this.Mc+=d;if(this.J-this.Mc<=1E3)this.ba-=0.0010*d;this.Mc>=this.J&&this.La()}if(this.D===i){this.$c+=d;var e=this.Je().type;e.D||console.log(e);if(this.$c>=e.D){this.D=n;this.$c=0}}this.j&&this.j.update(d);if(!this.V(a.b.n.eb))return this.S(d,b)}};g.Mf=function(d){if(this.U)switch(this.h){case a.b.g.Ra:case a.b.g.aa:if(this.V(a.b.n.eb))return new a.m((17+
this.Ed)*this.size.width,this.k);if(this.V(a.b.n.ob)||this.V(a.b.n.nc))return new a.m(this.Jc+this.Yb*this.size.width,this.Kc);if(this.V(a.b.n.vd)&&this.size.width<=32)return new a.m(16*this.size.width,this.k);if(this.V(a.b.n.of))return new a.m(20*this.size.width,this.k);return new a.m((a.ca.Gh(d?d:this.dc.A())*2+this.bc)*this.size.width,this.k);default:if(this.V(a.b.n.ob)||this.V(a.b.n.nc))return new a.m(this.Jc+this.Yb*this.size.width,this.Kc);return new a.m(this.r+this.bc*this.size.width,this.k)}else return new a.m(this.r,
this.k)};g.Yc=function(){var d=new a.yd(this.position.x,this.position.y,this.size.width-1,this.size.height-1);this.h===a.b.g.G&&d.reduce(1);if(this.type==="e_spit_pool"){d.y+=this.size.height/4;d.x+=5;d.height-=this.size.height/2;d.width-=10}if(this.type==="gas_cloud"){d.y+=32;d.x+=32;d.height-=32;d.width-=32}return d};g.xe=function(d){this.position=d.Ma(a.m.Md(this.size).scale(0.5))};g.pe=function(d){if(d<1||this.V(a.b.n.eb)||this.Me())return n;this.Lb(a.b.n.ve);this.X+=d;this.lc+=d;this.ef++;if(this.h===
a.b.g.aa||this.h===a.b.g.Ra)this.ra(a.b.n.vd,300);if(this.X>=this.l){this.X=this.l;if(this.h===a.b.g.aa||this.h===a.b.g.Ra){this.ra(a.b.n.eb);this.Ed=0;this.ad=new a.K;this.ad.start(200)}else this.La();this.h===a.b.g.Ra&&a.i.stopAll();this.na&&a.i.play(this.na);return i}this.ma&&a.i.play(this.ma);return n};g.Xi=function(d){if(this.h!==a.b.g.Ra){if(this.Z){var b=this.direction.A(),e;for(e in d)b[d[e]]*=-1;this.M(b);this.h===a.b.g.G&&a.i.play("weapon_wall")}else this.ga===a.b.fa.pc?this.Gd():this.La();
this.ee(d)}};g.Gd=function(){this.h=a.b.g.Cb;this.Ja=this.f*5;this.f*=0.5;this.Xa=n;this.rotate=i;this.J=100;this.ba=0.5;this.Z=i};g.M=function(d){if(d.x===0&&d.y===0)this.oa();else{this.direction=d;this.dc=this.direction.A()}};g.Ze=function(){var d=this.direction.A();d.scale(-1);this.M(d)};g.ua=function(d){this.ld(d.position.A())};g.ld=function(d){this.M(d.A().Ma(this.position).normalize())};g.ki=function(){if(this.V(a.b.n.eb))return n;return this.direction.x!==0||this.direction.y!==0};g.oa=function(){this.direction.$i()};
g.Je=function(){var d=this.T.length;if(d>=1){if(this.Ka<0)this.Ka=0;if(this.Ka>d-1)this.Ka=d-1;return this.T[this.Ka]}return n};g.Tg=function(d,b){var e=[],f;for(f in this.T){var h=this.T[f];if(typeof h!=="undefined"&&h.type===d)if(h.W!==j)b+=h.W;else b=j;h.W!==j&&e.push(f)}for(var k in e)this.T=this.T.splice(k,1);this.Ka=this.T.push({type:d,W:b})-1};g.fj=function(d){var b=this.T.length;if(d===i){this.Ka--;if(this.Ka<0)this.Ka=b-1}else{this.Ka++;if(this.Ka>b-1)this.Ka=0}};g.Fh=function(){var d=this.T.length;
if(this.D===i||d<1)return n;d=this.Je();if(d.W!==j){d.W-=1;d.W<1&&this.T.splice(this.Ka,1)}this.D=i;return d.type};g.Ke=function(d){for(var b=this.T.length,e=0;e<b;++e)if(this.T[e].type===d)return i;return n}})();(function(){a.a={};var g=a.a;g.Ta=999;g.qi={h:a.b.g.Cb,o:"objects",r:288,k:128,size:new a.qa(10,10),J:600,f:75,Va:n,va:5,R:function(){this.M(new a.m(0,-1));this.f=a.p(55,85)}};g.ri={h:a.b.g.Cb,o:"objects",r:320,k:128,size:new a.qa(10,10),J:1300,Va:n,va:5,R:function(){this.M(new a.m(0,-1));
this.f=a.p(25,60)}};g.Ci={h:a.b.g.Cb,o:"objects",Va:n,rotate:i,r:192,k:256,va:-1,R:function(){this.f=a.p(150,200);this.Ja=a.p(75,100);this.j=new a.K},S:function(){switch(this.C){case 0:if(!this.d){this.d=i;this.direction.y=-(a.p(0,5)/10);this.j.start(a.p(500,1750))}this.direction.y+=0.01;this.j.q()&&this.P();break;case 1:if(!this.d){this.oa();this.rotate=n;this.d=i}}}};g.tf={h:a.b.g.Cb,o:"objects",Va:n,va:10,R:function(){this.ba=0.25;this.f=a.p(5,25);this.size=new a.qa(192,128);switch(a.p(1,4)){case 1:this.r=
0;this.k=288;break;case 2:this.size=new a.qa(128,96);this.r=192;this.k=288;break;case 3:this.r=0;this.k=416;break;case 4:this.size=new a.qa(160,128);this.r=192;this.k=416}}};g.jj={h:a.b.g.Cb,f:25,o:"objects",r:0,k:192,size:new a.qa(64,64)};g.Xe={h:a.b.g.Cb,f:0,o:"objects",r:0,k:608,size:new a.qa(118,52),va:9,U:i};g.cb={h:a.b.g.ue,Sf:10,f:0,o:"objects",r:96,k:32,J:8E3};g.Xd={h:a.b.g.xd,Ae:10,f:0,o:"objects",r:64,k:32,J:5E3};g.ic={h:a.b.g.xd,Ae:100,f:0,o:"objects",r:32,k:32,J:5E3};g.Yd={h:a.b.g.xd,
Ae:500,f:0,o:"objects",r:0,k:32,J:5E3};g.Af={h:a.b.g.G,D:4E3,f:200,l:1,s:5,o:"objects",r:256,k:0,Xa:i,Z:n};g.Ch={h:a.b.g.G,D:5E3,f:200,l:1,s:10,o:"objects",r:160,k:0,Xa:i,Z:n};g.th={h:a.b.g.G,D:2E3,f:150,l:Infinity,s:15,o:"objects",r:224,k:0,rotate:i,Z:n};g.Id={h:a.b.g.G,D:1500,f:150,l:Infinity,s:15,o:"objects",r:224,k:0,rotate:i,Z:i,J:5E3};g.Ee={h:a.b.g.G,D:2E3,f:200,l:Infinity,s:20,Xa:i,o:"objects",r:160,k:0,Z:n};g.xh={h:a.b.g.G,D:2E3,f:200,l:Infinity,s:25,o:"objects",r:320,k:0,rotate:i,Z:n};g.Ef=
{h:a.b.g.G,D:2E3,f:200,l:Infinity,s:20,o:"objects",r:352,k:0,rotate:i,Z:n,ga:a.b.fa.Fa};g.Ff={h:a.b.g.G,D:2E3,f:150,l:Infinity,s:25,o:"objects",r:352,k:544,rotate:i,Z:n,ga:a.b.fa.Fa};g.Cf={h:a.b.g.G,D:2E3,f:350,l:Infinity,s:20,o:"objects",r:352,k:544,rotate:i,Z:n,ga:a.b.fa.Fa};g.Df={h:a.b.g.G,D:75,f:350,l:Infinity,s:10,o:"objects",r:352,k:0,rotate:i,J:400,Z:n,ga:a.b.fa.Fa};g.Ah={h:a.b.g.G,D:100,f:0,l:Infinity,s:5,o:"objects",r:288,k:32,rotate:i,Ja:100,J:1E3,Z:n,va:0,ga:a.b.fa.Fa};g.Bf={h:a.b.g.G,
D:200,f:0,l:Infinity,s:10,o:"objects",r:288,k:32,rotate:i,Ja:200,J:250,Z:n,va:0,ga:a.b.fa.Fa};g.Bh={h:a.b.g.G,D:100,f:0,l:Infinity,s:10,size:new a.qa(64,64),o:"objects",r:64,k:192,rotate:i,Ja:150,J:2E3,Z:n,va:0,ga:a.b.fa.Fa};g.uh={h:a.b.g.pb,D:100,f:0,l:Infinity,s:0,o:"characters",r:0,k:448,J:3E3,Z:n,va:-2,R:function(){if(a.p(1,10)>5)this.r+=32},de:function(b){b.F!==this.F&&b.h!==a.b.g.G&&b.ra(a.b.n.Uc,300)}};g.zh={h:a.b.g.pb,D:100,f:0,l:9999,s:5,size:new a.qa(64,64),o:"characters",r:896,k:416,U:i,
J:7500,Z:n,va:-1,Va:n,de:function(b){b.F!==this.F&&b.h!==a.b.g.G&&b.ra(a.b.n.Uc,300)}};g.yh={h:a.b.g.G,D:1E3,f:200,l:Infinity,s:10,o:"objects",r:224,k:32,Xa:i,Z:n,U:i,ga:a.b.fa.Fa};g.Dh={h:a.b.g.G,D:1E3,f:200,l:1,s:10,o:"objects",r:128,k:64,Xa:i,Z:n,U:i,ga:a.b.fa.Fa,R:function(){this.Be=new a.K;this.Be.start(1E3)},S:function(b){this.Be.update(b);this.Be.q()&&this.La()},kg:function(b){b.$(this,a.a.zh)}};g.Rf={h:a.b.g.G,D:300,f:250,l:1,s:10,o:"objects",r:64,k:0,Xa:i,yb:0,Z:n};g.Qf={h:a.b.g.G,size:new a.qa(32,
30),D:200,f:350,l:1,s:5,o:"objects",r:32,k:0,Xa:i,yb:1,Z:n};g.Th={h:a.b.g.G,D:350,f:500,l:1,s:15,o:"objects",r:96,k:0,Xa:i,yb:2,Z:n,Vb:i};g.Rd={h:a.b.g.G,D:300,f:400,Ja:500,l:1,s:3,o:"objects",r:192,k:0,rotate:i,J:450,da:"fire_attack",yb:3,Z:n,ga:a.b.fa.Fa,R:function(){this.ne=new a.K;this.ne.start(75)},S:function(b,e){this.ne.update(b);if(this.ne.q()){e.$(this,a.a.Sh);this.ne.reset()}}};g.Sh={h:a.b.g.G,f:0,Ja:150,l:1,s:5,o:"objects",r:192,k:0,rotate:i,J:500,ba:0.5,yb:3,Z:n,ga:a.b.fa.Fa,va:0};g.Rh=
{h:a.b.g.G,D:500,f:225,l:1,s:20,o:"objects",r:192,k:32,rotate:i,Ja:700,yb:5,J:4E3,Vb:i};g.Qd={h:a.b.g.G,D:450,f:350,l:1,s:25,o:"objects",r:384,k:0,yb:6,Z:n,Xa:i,Vb:i,da:"fire_attack",ga:a.b.fa.Fa,R:function(){this.Da=new a.K;this.Da.start(50)},S:function(b,e){this.Da.update(b);if(this.Da.q()){e.$(this,a.a.Jf);this.Da.reset()}}};g.Jf={h:a.b.g.G,f:0,l:1,s:10,o:"objects",r:192,k:0,rotate:i,da:"fire_attack",J:500,Z:n,va:0,ga:a.b.fa.Fa};g.Of={h:a.b.g.G,size:new a.qa(32,30),D:200,f:350,l:1,s:10,o:"objects",
r:128,k:0,yb:6,Z:n,Xa:i,Vb:i,da:"fire_attack",ga:a.b.fa.Fa,R:function(){this.Da=new a.K;this.Da.start(50)},S:function(b,e){this.Da.update(b);if(this.Da.q()){e.$(this,a.a.Jf);this.Da.reset()}}};g.Pf={h:a.b.g.G,D:500,f:150,Ja:300,l:1,s:2,o:"objects",r:192,k:0,rotate:i,J:550,da:"fire_attack",yb:3,Z:n,ga:a.b.fa.Fa};g.Zf={h:a.b.g.Nb,f:0,o:"objects",r:32,k:0,J:5E3,sd:a.a.Qf,rd:125};g.$f={h:a.b.g.Nb,f:0,o:"objects",r:96,k:0,J:5E3,sd:a.a.Th,rd:100};g.hd={h:a.b.g.Nb,f:0,o:"objects",r:192,k:0,J:5E3,sd:a.a.Rd,
rd:100};g.Yf={h:a.b.g.Nb,f:0,o:"objects",r:192,k:32,J:5E3,sd:a.a.Rh,rd:75};g.Zd={h:a.b.g.Nb,f:0,o:"objects",r:384,k:0,sd:a.a.Qd,rd:5E3};g.Tf={h:a.b.g.Ra,F:0,f:150,l:100,s:0,ga:j,o:"characters",k:0,U:i,da:"hero_attacks",ma:"hero_damage",na:"hero_dies",T:[{type:a.a.Rf,W:j}],md:function(b,e){for(var f=0;f<10;++f){var h=a.sa(a.a.ri);h.position.x=this.position.x+f*(this.size.width/10);h.position.y=this.position.y+this.size.height-a.p(0,this.size.height);e.xa(h)}}};var d={ua:function(b,e){if(this.Y>0){this.Ba+=
b;if(this.Ba<this.Y)return;this.Ba=0}this.ua(e.N());return"shoot"},Lh:function(b,e){this.f=this.$g;var f=e.N(),h=f.position.A().Ma(this.position).cg();if(h<100){this.ua(f);this.M(this.direction.ji())}else if(h>150)this.ua(f);else if(this.D)d.za.apply(this,arguments);else{this.ua(f);this.f=0;return"shoot"}},za:function(b){this.Ba+=b;if(this.Ba>=this.Y){this.Ba=0;b=a.Wb();b.x===0&&b.y===0||this.M(b)}},Yi:function(b,e){var f=e.N(),h=f.position.A().Ma(this.position).abs();if(!this.D&&(h.x<f.size.width/
2||h.y<f.size.height/2)){this.ua(f);return"shoot"}else d.za.apply(this,arguments)},qj:function(b,e){var f=e.N();f={x:f.position.x,y:f.position.y};var h=this.position.x,k=this.position.y;if(this.Ei)d.ua.apply(this,arguments);else{d.za.apply(this,arguments);k=Math.abs(k-f.y);if(Math.abs(h-f.x)<64&&k<64){a.i.play(this.da);this.Ei=i;return"shoot"}}}};g.Ua={h:a.b.g.aa,F:1,f:100,l:5,s:2,Ga:0,o:"characters",k:96,U:i,u:150,Ba:0,Y:500,ma:"bat_damage",na:"bat_dies",Aa:[{type:j,w:9},{type:a.a.Xd,w:1}],R:function(){this.Y=
a.p(500,1E3)},S:function(){if(this.position.y>=50)this.S=d.za}};g.tb={h:a.b.g.aa,F:1,f:150,l:10,s:5,Ga:0,o:"characters",k:128,U:i,u:150,Ba:0,Y:500,ma:"bat_damage",na:"bat_dies",Aa:[{type:j,w:7},{type:a.a.Xd,w:3}],R:function(){this.Y=a.p(500,1E3)},S:function(){if(this.position.y>=50)this.S=d.za}};g.Ia={h:a.b.g.aa,F:1,f:75,l:10,s:10,Ga:0,o:"characters",k:160,U:i,dd:"medium",Ba:0,Y:3E3,T:[{type:a.a.Af,W:j}],da:"goblin_attacks",ma:"goblin_damage",na:"goblin_dies",Aa:[{type:j,w:6},{type:a.a.Xd,w:1},{type:a.a.Ta,
w:2},{type:a.a.cb,w:1}],R:function(){this.Y=a.p(500,1E3)},S:function(){if(this.position.y>=50)this.S=d.Yi}};g.Sb={h:a.b.g.aa,F:1,f:75,l:10,s:10,Ga:0,o:"characters",k:160,U:i,dd:"medium",Ba:0,Y:3E3,T:[{type:a.a.Af,W:j}],da:"goblin_attacks",ma:"goblin_damage",na:"goblin_dies",Aa:[{type:j,w:2},{type:a.a.Xd,w:4},{type:a.a.Ta,w:2},{type:a.a.cb,w:2}],R:function(){this.Y=a.p(500,1E3)},S:function(b,e){if(this.position.y>=50){if(!this.D){this.ua(e.N());return"shoot"}d.za.apply(this,arguments)}}};g.ya={h:a.b.g.aa,
F:1,f:75,$g:75,l:30,s:15,Ga:0,o:"characters",k:192,U:i,dd:"medium",Ba:0,Y:3E3,T:[{type:a.a.Ch,W:j}],Aa:[{type:j,w:6},{type:a.a.Ta,w:2},{type:a.a.ic,w:1},{type:a.a.cb,w:1}],da:"demoblin_attacks",ma:"goblin_damage",na:"goblin_dies",R:function(){this.Y=a.p(500,1E3);this.D=i;this.$c=a.p(0,5E3)},S:function(){if(this.position.y>=50)this.S=d.Lh}};g.Oa={h:a.b.g.aa,F:1,f:200,l:50,s:10,Ga:0,o:"characters",k:32,U:i,$e:n,ma:"skull_damage",na:"skull_dies",T:[{type:a.a.Ah,W:j}],Aa:[{type:j,w:6},{type:a.a.Ta,w:2},
{type:a.a.ic,w:2}],R:function(){switch(a.p(1,2)){case 1:this.f*=0.5;this.u*=0.5;break;case 2:this.f*=0.75;this.u*=0.75}},S:function(){if(!this.$e&&this.position.y>=50){var b=this.direction.A();b.x=Math.random();if(Math.random()>=0.5)b.x*=-1;this.M(b);this.$e=i}return"shoot"}};g.ub={h:a.b.g.aa,F:1,rb:i,f:150,l:200,s:20,Ga:0,o:"characters",k:864,U:i,size:new a.qa(64,64),$e:n,ma:"skull_damage",na:"skull_dies",T:[{type:a.a.Bh,W:j}],Aa:[{type:j,w:4},{type:a.a.Ta,w:3},{type:a.a.ic,w:3}],R:function(){this.j=
new a.K;switch(a.p(1,2)){case 1:this.f*=0.5;this.u*=0.5;break;case 2:this.f*=0.75;this.u*=0.75}},S:function(b,e){switch(this.C){case 0:if(!this.d)this.d=i;this.position.y>=50&&this.P();break;case 1:if(!this.d){var f=this.direction.A();f.x=Math.random();if(Math.random()>=0.5)f.x*=-1;this.M(f);this.j.start(a.p(2E3,4E3));this.d=i}this.j.q()&&this.P();break;case 2:if(!this.d){this.f*=2;this.u*=2;this.j.start(a.p(250,500));this.d=i}if(this.j.q()){this.f/=2;this.u/=2;this.Mb(1)}this.ua(e.N())}return"shoot"}};
g.ug={h:a.b.g.pb,F:1,f:150,l:Infinity,s:20,o:"objects",r:32,k:256,va:0,U:i,Wc:1,Jc:96,Kc:576,pd:2,rotate:i,Ja:0,R:function(){this.j=new a.K;this.le=7500;this.Dg=new a.m(0,1);this.ra(a.b.n.ob)},ce:function(){this.r=128},S:function(b){switch(this.C){case 0:if(!this.d){this.j.start(this.le);this.d=i}this.Ja+=this.le/200/1E3*b;this.j.q()&&this.P();break;case 1:if(!this.d){this.M(this.Dg);this.d=i}}},ee:function(){this.oa();this.J=1500}};g.Ki={h:a.b.g.pb,F:1,f:100,l:Infinity,s:10,Ga:0,o:"objects",r:64,
k:256,U:i,Wc:1,Jc:0,Kc:576,pd:2,rotate:i,Ja:100,C:0,d:n,R:function(){this.ra(a.b.n.ob)},ce:function(b){if(b.h===a.b.g.Ra)this.r=160},S:function(b,e){if(!this.V(a.b.n.ob))switch(this.C){case 0:if(!this.d){this.oa();this.d=i}var f=e.N().position.A().Ma(this.position);if(Math.abs(f.y)<32){this.fe=this.position.A();var h=new a.m;h.x=f.x<0?-1:1;this.M(h);this.C++;this.d=n;a.i.play("spike_attack")}else if(Math.abs(f.x)<32){this.fe=this.position.A();h=new a.m;h.y=f.y<0?-1:1;this.M(h);this.C++;this.d=n;a.i.play("spike_attack")}break;
case 1:if(!this.d){this.Ja=this.f=300;this.d=i}f=this.position.A().Ma(this.fe).abs();if(f.x>256){h=this.direction.A();h.x*=-1;this.M(h);this.C++;this.d=n}else if(f.y>128){h=this.direction.A();h.y*=-1;this.M(h);this.C++;this.d=n}break;case 2:if(!this.d){this.f=50;this.Ja=100;this.d=i}f=this.position.A().Ma(this.fe).abs();if(f.x<5&&f.y<5){this.oa();this.position=this.fe.A();this.C=0;this.d=n}}}};g.af={h:a.b.g.pb,F:1,f:0,l:Infinity,s:10,Ga:0,o:"objects",r:0,k:256,U:i,Wc:1,Jc:224,Kc:256,pd:3,R:function(){this.ra(a.b.n.ob)},
ce:function(b){if(b.h===a.b.g.Ra)this.r=96}};g.Ca={h:a.b.g.aa,F:1,rb:i,U:i,size:new a.qa(64,64),o:"characters",k:800,s:15,l:250,f:75,Gi:"owlbear_alarm",da:"owlbear_attacks",ma:"owlbear_damage",na:"owlbear_dies",Aa:[{type:a.a.cb,w:1}],R:function(){this.Y=a.p(500,1E3);this.j=new a.K},S:function(b,e){switch(this.C){case 0:if(!this.d){this.u=this.f=150;this.d=i}this.position.y>=60&&this.P();break;case 1:if(!this.d){this.f=75;this.u=300;this.d=i}d.za.apply(this,arguments);var f=e.N(),h=f.position.A().Ma(this.position).abs();
if(h.x<this.size.width/2||h.y<this.size.height/2){this.ua(f);this.P()}break;case 2:if(!this.d){a.i.play(this.Gi);this.f=0;this.u=150;this.j.start(500);this.d=i}this.position.x+=a.p(-1,1);this.j.q()&&this.P();break;case 3:if(!this.d){a.i.play(this.da);this.f=350;this.u=75;this.j.start(2E3);this.d=i}this.j.q()&&this.P();break;case 4:if(!this.d){this.oa();this.u=400;this.j.start(1250);this.d=i}this.j.q()&&this.Mb(1)}}};g.ia={h:a.b.g.aa,F:1,rb:i,U:i,dd:"large",size:new a.qa(64,64),o:"characters",k:224,
Ba:0,Y:1E3,s:20,l:200,f:100,u:100,Ga:0,da:"cyclops_attacks",ma:"cyclops_damage",na:"cyclops_dies",T:[{type:a.a.th,W:j}],Aa:[{type:a.a.cb,w:7},{type:a.a.Ta,w:3}],R:function(){this.Y=a.p(500,1E3);this.M(a.ca.qd(a.ca.Na))},S:function(){if(this.position.y>=50){this.f=25;this.u=200;this.S=d.ua}}};g.Eh={h:a.b.g.aa,F:1,U:i,o:"characters",k:512,s:10,l:40,f:100,ma:"eyelet_damage",na:"eyelet_dies",Va:n,Aa:[{type:j,w:9},{type:a.a.cb,w:1},{type:a.a.Ta,w:8},{type:a.a.hd,w:2}],oi:function(){this.k=960;this.l=75;
this.f=175;this.s=20},R:function(){if(a.p(1,10)>5)this.k+=32;this.ge=0;this.j=new a.K;this.ra(a.b.n.Sa,1E3)},S:function(b,e){if(e.H[this.Wa])switch(this.C){case 0:if(!this.d){this.j.start(1E4);this.d=i}var f=e.H[this.Wa];this.position=f.position.A().add(a.m.Md(f.size).scale(0.5)).Ma(new a.m(10,10)).add(a.m.Pa(this.ge).scale(f.Kd));this.ge+=1.05/1E3*b;if(this.ge>Math.PI*2)this.ge=0;this.j.q()&&e.ye(this)===n&&this.P();break;case 1:if(!this.d){this.Va=i;this.f=175;this.d=i}d.za.apply(this,arguments)}else this.pe(this.l)}};
g.uf={h:a.b.g.aa,F:1,rb:i,U:i,u:400,size:new a.qa(64,64),o:"characters",k:576,Ba:0,Y:1E3,s:35,l:750,f:15,Ga:0,da:"cube_attacks",ma:"cube_damage",na:"cube_dies",Aa:[{type:a.a.ic,w:1},{type:a.a.Ta,w:6},{type:a.a.cb,w:3}],R:function(){this.Y=a.p(500,1E3);this.M(a.ca.qd(a.ca.Na));this.j=new a.K;this.Od=new a.K},lg:function(b){if(b.ga!==a.b.fa.Fa)return i},S:function(b,e){this.Od.update(b);switch(this.C){case 0:if(!this.d){this.f=100;this.u=200;this.d=i}this.position.y>=150&&this.P();break;case 1:if(!this.d){this.oa();
this.f=15;this.u=400;this.j.start(6E3);this.Od.start(300);this.d=i}if(this.j.q()){this.P();break}d.za.apply(this,arguments);this.position.x+=a.p(-1,1);if(this.Od.q()){e.$(this,a.a.Jh);a.i.play(this.da);this.Od.reset()}break;case 2:if(!this.d){this.f=30;this.u=150;this.j.start(7500);this.d=i}if(this.j.q()){this.Mb(1);break}d.ua.apply(this,arguments)}}};g.Jh={h:a.b.g.aa,F:1,U:i,u:400,o:"characters",k:640,Ba:0,Y:1E3,s:5,l:10,f:150,Ga:0,ma:"gel_damage",na:"gel_dies",R:function(){this.M(a.Wb());this.Y=
a.p(500,1E3);switch(a.p(1,4)){case 1:this.k=640;break;case 2:this.k=672;break;case 3:this.k=704;break;case 4:this.k=736}},S:function(){d.za.apply(this,arguments)},md:function(b,e){var f=e.N();!f.Ke(a.a.Rd)&&!f.Ke(a.a.Qd)&&e.Mh(a.a.hd)===0&&e.zf(this,a.a.hd)}};g.xg={h:a.b.g.aa,F:1,rb:i,U:i,size:new a.qa(64,64),o:"characters",k:288,Ba:0,Y:1E3,s:20,l:600,f:25,Ga:0,da:"minotaur_attacks",ma:"minotaur_damage",na:"minotaur_dies",T:[{type:a.a.Ee,W:j}],Aa:[{type:a.a.Yd,w:4},{type:a.a.cb,w:3},{type:a.a.Ta,
w:3}],R:function(){this.j=new a.K;this.Y=a.p(500,1E3);this.M(a.ca.qd(a.ca.Na))},S:function(b,e){switch(this.C){case 0:if(!this.d){this.f=200;this.u=100;this.d=i}this.position.y>=80&&this.P();break;case 1:if(!this.d){this.u=250;this.ua(e.N());this.oa();var f=this.dc.Dc();e.$(this,a.a.Id,a.m.Pa(f-0.3));e.$(this,a.a.Id,a.m.Pa(f+0.3));this.j.start(1500);this.d=i}this.j.q()&&this.P();break;case 2:if(!this.d){this.f=300;this.u=100;this.M(this.dc);this.j.start(2E3);this.d=i}this.j.q()&&this.P();break;case 3:if(!this.d){this.f=
15;this.u=400;this.j.start(2E3);this.d=i}d.za.apply(this,arguments);if(this.j.q())this.X>this.l/2?this.P():this.Mb(1);break;case 4:if(!this.d){this.oa();this.u=300;this.j.start(1500);this.d=i}if(this.j.q()){this.P();break}this.position.x+=a.p(-1,1);break;case 5:if(!this.d){this.D=n;this.T=[{type:a.a.Id,W:j}];this.d=i}e.jc(this);this.position.x+=a.p(-1,1);this.P();break;case 6:if(!this.d){this.f=50;this.T=[{type:a.a.Ee,W:j}];this.D=i;this.j.start(6E3);this.d=i}this.j.q()&&this.Mb(4);e.jc(this);d.ua.apply(this,
arguments)}},ee:function(){this.C===2&&this.P()}};g.Jb={h:a.b.g.aa,F:1,f:100,l:20,s:15,Ga:0,o:"characters",k:64,U:i,Ba:0,Y:3E3,ma:"imp_damage",na:"imp_dies",C:0,d:n,Aa:[{type:j,w:7},{type:a.a.cb,w:1},{type:a.a.Ta,w:2}],R:function(){this.j=new a.K;this.Y=a.p(500,1E3)},md:function(b,e){b.h===a.b.g.G&&b.La();for(var f=0;f<2;f++)e.$(this,a.a.tb,a.Wb())},S:function(){switch(this.C){case 0:if(!this.d)this.d=i;if(this.position.y>=50){this.C++;this.d=n}break;case 1:if(!this.d){this.f=50;this.u=400;this.j.start(2500,
7500);this.d=i}d.za.apply(this,arguments);if(this.j.q()){this.C++;this.d=n}break;case 2:if(!this.d){this.u=this.f=150;this.j.start(2500,7500);this.d=i}d.za.apply(this.arguments);if(this.j.q()){this.C=1;this.d=n}}}};g.pa={h:a.b.g.aa,F:1,f:100,l:20,s:10,Ga:0,o:"characters",k:416,U:i,dd:"medium",Ba:0,Y:3E3,T:[{type:a.a.yh,W:j}],da:"wizard_attacks",Hi:"wizard_disappear",Ii:"wizard_reappear",ma:"goblin_damage",na:"goblin_dies",Aa:[{type:j,w:6},{type:a.a.ic,w:1},{type:a.a.Yd,w:1},{type:a.a.Ta,w:2}],C:0,
d:n,R:function(){this.j=new a.K;this.Y=a.p(500,1E3);this.ti=a.p(50,75)},S:function(b,e){switch(this.C){case 0:if(!this.d)this.d=i;if(this.position.y>=this.ti){this.C++;this.d=n}break;case 1:if(!this.d){this.U=n;this.oa();this.ra(a.b.n.Sa);this.j.start(1E3);this.d=i;a.i.play(this.Hi)}if(this.j.q()){this.C++;this.d=n}break;case 2:if(!this.d){this.f=500;this.ra(a.b.n.mb);this.j.start(a.p(1E3,2E3));this.d=i}d.za.apply(this,arguments);if(this.j.q()){this.C++;this.d=n}break;case 3:if(!this.d){this.oa();
this.Lb(a.b.n.mb);this.j.start(1E3);this.d=i;a.i.play(this.Ii)}if(this.j.q()){this.C++;this.d=n}break;case 4:if(!this.d){this.f=0;this.U=i;this.Lb(a.b.n.Sa);this.j.start(a.p(2E3,3E3));this.d=i;this.rg=n}this.ua(e.N());if(this.j.q()){this.C=1;this.d=n}if(!this.rg){this.rg=i;return"shoot"}}}};g.wa={h:a.b.g.aa,F:1,U:i,u:200,o:"characters",k:480,Jc:544,Kc:448,pd:2,s:25,l:50,f:50,Ga:0,C:0,d:n,Ba:0,Y:2E3,da:"sandworm_attacks",ma:"goblin_damage",na:"sandworm_dies",Aa:[{type:j,w:4},{type:a.a.ic,w:2},{type:a.a.Ta,
w:2},{type:a.a.cb,w:2}],R:function(){this.j=new a.K;this.Hd=new a.K;this.qb=new a.K},S:function(b,e){switch(this.C){case 0:if(!this.d){this.f=50;this.ra(a.b.n.mb);this.j.start(a.p(5E3,1E4));this.Hd.start(150);this.d=i}this.Hd.update(b);this.position.y<=50?this.M(a.ca.qd(a.ca.Na)):d.za.apply(this,arguments);if(this.j.q()){this.C++;this.d=n}if(this.Hd.q()){e.$(this,a.a.uh);this.Hd.reset()}break;case 1:if(!this.d){this.oa();this.f=0;this.Lb(a.b.n.mb);this.ra(a.b.n.ob);this.Yb=0;this.d=i}if(!this.V(a.b.n.ob)){this.C++;
this.d=n}break;case 2:if(!this.d){this.he=0;this.d=i;this.qb.start(200)}this.qb.update(b);if(this.he<1&&this.qb.q()){this.he++;this.M(a.Wb());e.$(this,a.a.Dh);a.i.play(this.da);this.qb.reset();this.he===1&&this.j.start(2E3)}if(this.he>=1&&this.j.q()){this.C++;this.d=n}break;case 3:if(!this.d){this.ra(a.b.n.nc);this.Yb=2;this.d=i}if(!this.V(a.b.n.nc)){this.ra(a.b.n.mb);this.C=0;this.d=n}}}};g.ah={h:a.b.g.aa,F:1,rb:i,U:i,o:"characters",k:0,k:768,vg:928,s:20,l:5E3,f:200,da:"dopp_attacks",ma:"dopp_damage",
na:"dopp_dies",R:function(){this.j=new a.K},md:function(b,e){for(var f in e.H){var h=e.H[f];if(h.h===a.b.g.aa&&h.id!==this.id)h.pe(h.l);else if(h.h===a.b.g.pb)h.J=1500}},S:function(b,e){switch(this.C){case 0:if(!this.d){this.f=300;this.u=100;this.d=i}this.position.y>60&&this.P();break;case 1:if(!this.d){this.u=this.f=200;this.d=i;this.$b=new a.m(304,224)}this.ld(this.$b);var f=this.$b.A().Ma(this.position).abs();f.x<16&&f.y<16&&this.P();break;case 2:if(!this.d){this.gg=0;this.M(new a.m(0,1));this.oa();
this.j.start(500);this.d=i}this.position.x+=a.p(-1,1);this.j.q()&&this.P();break;case 3:if(!this.d){this.gg++;this.f=400;this.u=100;this.M(a.Wb());this.j.start(1500);this.d=i;this.ke=new a.K;this.ke.start(200)}this.ke.update(b);if(this.ke.q()){var h=e.$(this,a.a.af);if(h=e.H[h])h.J=1E4;this.ke.reset()}if(this.j.q())this.gg>=4?this.P():this.Mb(3);break;case 4:if(!this.d){this.f=100;this.u=200;this.j.start(1E4);this.d=i}this.ua(e.N());this.j.q()&&this.P();break;case 5:if(!this.d){this.u=this.f=200;
this.d=i;this.$b=new a.m(32,66)}this.ld(this.$b);f=this.$b.A().Ma(this.position).abs();if(f.x<2&&f.y<2){this.position.x=32;this.position.y=66;this.P()}break;case 6:if(!this.d){this.M(new a.m(0,1));this.oa();this.d=i;this.pi(e);this.T=[{type:a.a.wh,W:j}]}this.j.q()&&this.P();this.ua(e.N());this.oa();return"shoot";case 7:if(!this.d){this.oa();this.j.start(4E3);this.d=i}if(this.j.q()){f=a.sa(a.a.cb);f.position.x=32;f.position.y=64;f.Sf*=2;e.xa(f);this.P()}break;case 8:if(!this.d){this.u=this.f=200;this.d=
i;this.j.start(15E3);this.T=[{type:a.a.vh,W:j}];this.D=n;this.M(a.Wb())}this.j.q()&&this.P();d.za.apply(this,arguments);return"shoot";case 9:if(!this.d){this.u=this.f=200;this.d=i;this.$b=new a.m(304,224)}this.ld(this.$b);f=this.$b.A().Ma(this.position).abs();f.x<5&&f.y<5&&this.P();break;case 10:if(!this.d){this.M(new a.m(0,1));this.oa();this.d=i;for(f=0;f<60;++f){h=e.$(this,a.a.tb);h=e.H[h];h.M(a.Wb());h.ra(a.b.n.Sa,250)}this.j.start(8E3)}this.j.q()&&this.Mb(1)}},pi:function(b){var e=3,f=1E4,h=1;
if(this.X>this.l*0.66){e=1;f=5E3;h=2}else if(this.X>this.l*0.33){e=2;f=7500;h=1.5}this.j.start(f-1500);for(var k=[],m=0;m<18;++m)k.push(i);for(m=0;m<e;++m){c=0;for(var l=n;l===n;){c=a.p(1,k.length-1);l=k[c]===i}k[c]=n}for(m=0;m<k.length;++m)if(k[m]===i){l=a.sa(a.a.ug);l.position=new a.m(32+m*32,64);l.le=f;l.f*=h;b.xa(l)}k=[];for(m=0;m<10;++m)k.push(i);for(m=0;m<e;++m){c=0;for(l=n;l===n;){c=a.p(1,k.length-1);l=k[c]===i}k[c]=n}for(m=0;m<k.length;++m)if(k[m]===i){l=a.sa(a.a.ug);l.position=new a.m(32,
64+m*32);l.Dg=new a.m(1,0);l.le=f;l.f=275;l.f*=h;b.xa(l)}}};g.vh={h:a.b.g.G,D:2500,f:250,l:Infinity,s:15,o:"objects",r:160,k:32,rotate:i,Ja:700,yb:5,J:1E4,da:"dopp_attacks",R:function(){this.Da=new a.K;this.Da.start(50)},S:function(b,e){e.wi(this.Wa)||this.La();this.Da.update(b);if(this.Da.q()){e.$(this,a.a.Bf);this.Da.reset()}}};g.wh={h:a.b.g.G,D:750,f:350,l:Infinity,s:5,o:"objects",r:384,k:544,Xa:i,yb:2,Z:n,Vb:i,da:"dopp_attacks",R:function(){this.Da=new a.K;this.Da.start(50)},S:function(b,e){this.Da.update(b);
if(this.Da.q()){e.$(this,a.a.Bf);this.Da.reset()}}};g.qf={h:a.b.g.aa,F:1,rb:i,size:new a.qa(128,128),o:"beholder",U:i,u:350,va:3,s:30,l:3E3,f:50,ma:"beholder_damage",na:"beholder_dies",Va:n,Aa:[{type:a.a.Zd,w:1}],R:function(){this.j=new a.K;this.qb=new a.K;this.Kd=100;this.Ge=1;this.Hf=n},S:function(b,e){this.qb.update(b);if(this.qb.q()){a.i.play("wizard_attacks");var f=e.$(this,a.a.xh),h=e.H[f];h.ua(e.N());this.qb.reset()}this.Kd+=0.02*b*this.Ge;if(this.Kd>120)this.Ge=-1;if(this.Kd<100)this.Ge=1;
if(this.X>this.l/2&&!this.Hf){this.Hf=i;this.f*=1.5;this.u/=2;this.qb.start(2E3)}switch(this.C){case 0:if(!this.d){this.f=200;this.ra(a.b.n.mb);this.d=i}this.position.y>=70&&this.P();break;case 1:if(!this.d){this.f=50;this.Lb(a.b.n.mb);this.ra(a.b.n.Sa);this.j.start(2E3);this.d=i}d.za.apply(this,arguments);if(this.j.q()){this.qb.start(4E3);this.P()}break;case 2:if(!this.d){this.Lb(a.b.n.Sa);this.Va=i;this.Ld=new a.K;this.Ld.start(500);this.If=0;this.d=i}this.Ld.update(b);d.za.apply(this,arguments);
if(this.Ld.q()){this.Ld.reset();f=e.$(this,a.a.Eh);if(this.X>this.l/2){h=e.H[f];h.oi()}++this.If;this.If>=12&&this.P()}break;case 3:if(!this.d){this.j.start(2E4);this.d=i}h=n;for(f in e.H)if(e.H[f].Wa===this.id){h=i;break}if(this.j.q()||!h)this.P();d.za.apply(this,arguments);break;case 4:if(!this.d){this.oa();this.j.start(2E3);this.d=i}this.position.x+=a.p(-2,2);this.j.q()&&this.P();break;case 5:for(f=0;f<2;++f)e.$(this,a.a.Ih);this.P();break;case 6:if(!this.d){this.xi=this.f;this.f=250;this.We=this.u;
this.u=100;this.ua(e.N());this.d=i}}},ee:function(){if(this.C===6){this.f=this.xi;this.u=this.We;this.Mb(2)}}};g.Ih={h:a.b.g.pb,F:1,U:i,size:new a.qa(128,128),o:"characters",r:640,k:416,va:2,u:400,s:20,l:9999,f:10,J:9E4,ga:a.b.fa.Fa,R:function(){this.M(a.Wb());this.Y=a.p(5E3,1E4)},S:function(b,e){if(this.bc===2){this.U=n;this.r=896}if(this.F===1&&!e.H[this.Wa]&&this.J-this.Mc>2E3)this.Mc=this.J-2E3;d.za.apply(this,arguments)},de:function(b){b.F!==this.F&&b.h!==a.b.g.G&&b.ra(a.b.n.Uc,300);if(this.F!==
3&&b.ga==a.b.fa.Fa){a.i.play("fire_attack");this.Wa=j;this.F=3;this.s=5;this.J=2E3;this.Mc=0;this.k+=224;this.u=500;this.bc=0;this.Wc=3}}};g.wf={h:a.b.g.aa,F:1,rb:i,U:i,size:new a.qa(64,64),o:"characters",k:352,Ba:0,Y:0,s:20,l:1E3,f:20,Ga:0,da:"dragon_attacks",ma:"dragon_damage",na:"dragon_dies",T:[{type:a.a.Cf,W:j}],Aa:[{type:a.a.Yd,w:1}],C:0,d:n,R:function(){this.j=new a.K;this.Y=a.p(500,1E3);this.M(a.ca.qd(a.ca.Na));this.sc=new a.K},S:function(b,e){this.sc.update(b);switch(this.C){case 0:if(!this.d){this.f=
200;this.u=50;this.d=i}if(this.position.y>=200){this.C++;this.d=n}break;case 1:if(!this.d){this.oa();this.u=300;this.j.start(1E3);this.d=i}this.position.x+=a.p(-1,1);this.j.q()&&this.P();break;case 2:if(!this.d){this.D=n;this.oa();this.T=[{type:a.a.Ef,W:j}];this.d=n}e.jc(this);this.P();break;case 3:if(!this.d){this.f=0;this.u=100;this.j.start(2E3);this.d=i;this.sc.start(350);this.Kf=n}if(!this.Kf&&this.sc.q())if(this.X>this.l/2){this.D=n;this.T=[{type:a.a.Ff,W:j}];e.jc(this);this.Kf=i}if(this.j.q()){this.C++;
this.d=n}this.position.x+=a.p(-1,1);break;case 4:if(!this.d){this.f=350;this.u=100;this.j.start(500);this.d=i;var f=e.N();this.ua(f)}if(this.j.q()){this.C++;this.d=n}break;case 5:if(!this.d){this.f=0;this.u=400;this.T=[{type:a.a.Df,W:j}];this.D=n;this.$c=0;this.j.start(2500);this.d=i;this.sc.start(750)}if(this.j.q()){this.C=2;this.d=n}f=e.N();this.ua(f);if(this.sc.q()&&this.X>this.l/2){e.$(this,a.a.Cf);this.sc.reset()}return"shoot"}}}})();(function(){a.re=function(){this.images={};this.hg=this.ig=
0};var g=a.re.prototype;g.load=function(d,b,e){this.Xg=function(){b.call(e)};for(var f in d){this.hg++;this.images[f]=new Image;a.gb("load",this.Vh,this.images[f],this);a.gb("error",this.Uh,this.images[f],this);this.images[f].src=d[f]}};g.Vf=function(){this.ig++;this.ig>=this.hg&&this.Xg()};g.Vh=function(){this.Vf()};g.Uh=function(){this.Vf()};g.L=function(d){if(this.images[d])return this.images[d];return n}})();(function(){a.zd=function(d,b,e,f){this.xc=500;this.ae=0;this.location=new a.yd(d,b,e,
f);this.Ic=[]};var g=a.zd.prototype;g.update=function(d,b){this.ae+=d;if(this.ae>=this.xc||b===i){this.ae=0;if(this.Ic.length<1)return n;var e=this.Ic.shift(),f=this.location;e=a.sa(e);e.position.x=a.p(f.left,f.left+f.width-e.size.width);e.position.y=a.p(f.top,f.top+f.height-e.size.height);f=e.direction.A();f.y=1;e.M(f);return e}return n};g.Ai=function(d,b){b=Number(b)||1;for(var e=0;e<b;e++)this.Ic.push(d)}})();(function(){a.v=function(){this.Gc=[];this.vi=2E4;this.tc=n};var g=a.v.prototype;g.e=
function(d,b){this.Gc.push({sg:d,xc:b,H:[]})};g.c=function(d,b,e){var f=j,h;for(h in this.Gc)if(this.Gc[h].sg===d)f=this.Gc[h];if(f===j)return n;f.H.push({type:b,W:Math.floor(e)})}})();(new a.oc).Di()})();

	}());
	</script>

	<script type="text/javascript">
	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-16927444-5']);
	  _gaq.push(['_trackPageview']);
	  (function() {
	    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();
	</script>

</body>
</html>
